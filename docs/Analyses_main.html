<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Ana Macanovic" />

<meta name="date" content="2025-05-10" />

<title>Main analyses</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="tweaks.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a>
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="index.html">
    <span class="glyphicon glyphicon glyphicon glyphicon-info-sign"></span>
     
    About
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="glyphicon glyphicon glyphicon glyphicon-menu-hamburger"></span>
     
    DPM preparation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="NARCIS_collection.html">NARCIS data scrape</a>
    </li>
    <li>
      <a href="OpenAlex_Altmetric_data_download.html">Open Alex and Altmetric data download</a>
    </li>
    <li>
      <a href="Gender_inference.html">Gender inference</a>
    </li>
    <li>
      <a href="Grant_parsing.html">Grant parsing</a>
    </li>
    <li>
      <a href="Printed_news_preparation.html">Printed news preparation</a>
    </li>
    <li>
      <a href="Online_news_preparation.html">Online news preparation</a>
    </li>
    <li>
      <a href="Data_coverage.html">NARCIS and OA database comparison</a>
    </li>
    <li>
      <a href="SJR_CiteScore_comparison.html">SJR and CiteScore comparison</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="glyphicon glyphicon glyphicon glyphicon-tasks"></span>
     
    DPM Panel Dataset
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Panel_data_compilation.html">Panel dataset preparation</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="glyphicon glyphicon glyphicon glyphicon-ok-sign"></span>
     
    Analyses and Results
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Analyses_main.html">Main analyses</a>
    </li>
    <li>
      <a href="Supplement_data_information.html">SI S2 Dataset information</a>
    </li>
    <li>
      <a href="Analyses_supplemental_descriptive.html">SI S3 Additional descriptive results</a>
    </li>
    <li>
      <a href="Analyses_supplemental_regressions.html">SI S4 Additional regression results</a>
    </li>
    <li>
      <a href="News_classification_other_functions.html">Resources and functions</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="glyphicon glyphicon glyphicon glyphicon-info-sign"></span>
     
    Robustness checks
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Analyses_robustness.html">Poisson, negative binomial, logistic models</a>
    </li>
    <li>
      <a href="Analyses_robustness_fe.html">Fixed effect models</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="glyphicon glyphicon glyphicon glyphicon-zoom-in"></span>
     
    Additional sample
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Additional_sample_analyses.html">Analyses of the additional sample (N = 980)</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/amacanovic/limits_gender_equity">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Main analyses</h1>
<h4 class="author">Ana Macanovic</h4>
<h4 class="date">2025-05-10</h4>

</div>


<div id="main-analyses" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Main Analyses</h1>
<p>Analyses presented in the main text of the manuscript.</p>
<p>Load the packages:</p>
<pre class="r"><code>source(&quot;helper_functions.R&quot;)
packages_to_load &lt;- c(&quot;readr&quot;, &quot;dplyr&quot;, &quot;tidyr&quot;, 
                      &quot;ggplot2&quot;, &quot;cowplot&quot;,
                      &quot;tidyverse&quot;, &quot;RPostgres&quot;, 
                      &quot;lubridate&quot;, &quot;lmtest&quot;, 
                      &quot;sandwich&quot;, &quot;ggpubr&quot;, 
                      &quot;knitr&quot;, &quot;scales&quot;, 
                      &quot;ggeffects&quot;, &quot;flextable&quot;, 
                      &quot;officer&quot;, &quot;MASS&quot;,
                      &quot;DescTools&quot;, &quot;stevemisc&quot;)

fpackage_check(packages_to_load)


# For full reproducibility, load the packages with groundhog using the code below instead
# of the fpackage_check function

# library(groundhog)
# groundhog.library(packages_to_load, date = &quot;2024-4-23&quot;)</code></pre>
<pre class="r"><code>opts_chunk$set(echo = TRUE)
opts_chunk$set(eval = TRUE)
opts_chunk$set(warning = FALSE)
opts_chunk$set(message = FALSE)</code></pre>
<p>Load the panel:</p>
<pre class="r"><code>prof_panel_filter &lt;- read_csv(&quot;panel_datasets/prof_panel_anonymised.csv&quot;)</code></pre>
</div>
<div id="figure-1-examples" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Figure 1: Examples</h1>
<p>There examples are manually selected from our panel dataset and our
database.</p>
</div>
<div id="figure-2-descriptive-results" class="section level1"
number="3">
<h1><span class="header-section-number">3</span> Figure 2: Descriptive
results</h1>
<div id="figure-2a-mention-averages" class="section level2"
number="3.1">
<h2><span class="header-section-number">3.1</span> Figure 2A: Mention
averages</h2>
<p>Average numbers of mentions and comparison per gender.</p>
<p>First, get the totals for the last observation for each
professor:</p>
<pre class="r"><code>prof_totals &lt;- prof_panel_filter %&gt;%
  group_by(profile_id)%&gt;%
  filter(year == max(year) &amp; !is.na(overall_adj_domain))</code></pre>
<p>Within-field comparison:</p>
<pre class="r"><code>fields &lt;- unique(prof_panel_filter$overall_adj_domain)
fields &lt;- fields[!is.na(fields)]
field_comparisons &lt;- data.frame(matrix(NA, ncol = 5, nrow = length(fields)))

for (i in 1:length(fields)){
  field &lt;- fields[i]
  data &lt;- filter(prof_totals, 
                 overall_adj_domain == field)
  field_comparisons[i, 1] &lt;- field
  field_comparisons[i, 2] &lt;- nrow(data)
  field_comparisons[i, 3] &lt;- round(t.test(news_all_total ~ inferred_gender, data=data, paired=FALSE)$p.value, 5)
  field_comparisons[i, 4] &lt;- round(t.test(alt_online_all_total ~ inferred_gender, data=data, paired=FALSE)$p.value, 5)
  field_comparisons[i, 5] &lt;- round(t.test(alt_twitter_total ~ inferred_gender, data=data, paired=FALSE)$p.value, 5)
}

colnames(field_comparisons) &lt;- c(&quot;field&quot;, &quot;profs&quot;,
                                 &quot;total&quot;, &quot;online_total&quot;, &quot;twitter_total&quot;)
field_comparisons$comparison &lt;-  &quot;ttest&quot;


mean_values_field &lt;- prof_totals %&gt;%
  filter(!is.na(overall_adj_domain))%&gt;%
  group_by(inferred_gender, overall_adj_domain)%&gt;%
  summarise(total = mean(news_all_total, na.rm = TRUE),
            online_total = mean(alt_online_all_total, na.rm = TRUE),
            twitter_total =  mean(alt_twitter_total, na.rm = TRUE),
            total_sd = sd(news_all_total, na.rm = TRUE),
            online_total_sd = sd(alt_online_all_total, na.rm = TRUE),
            twitter_total_sd =  sd(alt_twitter_total, na.rm = TRUE),
            all_n = n())%&gt;%
  mutate(
    
    total_se = total_sd / sqrt(all_n),
    online_total_se = online_total_sd / sqrt(all_n),
    twitter_total_se =  twitter_total_sd / sqrt(all_n),
    
    total_lci = total - qt(1 - (0.05 / 2), all_n - 1) * total_se,
    online_total_lci = online_total - qt(1 - (0.05 / 2), all_n - 1) * online_total_se,
    twitter_total_lci =  twitter_total - qt(1 - (0.05 / 2), all_n - 1) * twitter_total_se,
    
    total_uci = total + qt(1 - (0.05 / 2), all_n - 1) * total_se,
    online_total_uci = online_total + qt(1 - (0.05 / 2), all_n - 1) * online_total_se,
    twitter_total_uci =  twitter_total + qt(1 - (0.05 / 2), all_n - 1) * twitter_total_se)%&gt;%
  mutate(across(2:17, \(x) round(x, 3)))

colnames(mean_values_field)[1] &lt;- &quot;comparison&quot;
colnames(mean_values_field)[2] &lt;- &quot;field&quot;</code></pre>
<p>Plot the means comparison:</p>
<pre class="r"><code>mean_values_field$field &lt;- factor(mean_values_field$field,
                                  levels = c(&quot;Physical Sciences&quot;,
                                             &quot;Life Sciences&quot;,
                                             &quot;Health Sciences&quot;,
                                             &quot;Social Sciences&quot;,
                                             &quot;Arts and Humanities&quot;))
mean_values_field$comparison &lt;- ordered(mean_values_field$comparison,
                                        levels = c(&quot;m&quot;, &quot;w&quot;))

significance_testing &lt;-  field_comparisons

significance_testing &lt;-  significance_testing %&gt;%
  filter(comparison == &quot;ttest&quot;)%&gt;%
  mutate_at(vars(`online_total`, `total`, `twitter_total`), .funs = list(
    ~case_when(
      . &lt;= 0.001 ~ &#39;***&#39;,
      . &lt;= 0.01 ~ &#39;**&#39;,
      . &lt;= 0.05 ~ &#39;*&#39;,
      . &lt;= 0.1 ~ &#39;&#39;,
      . &gt; 0.1 ~ &#39;&#39;
    )))

significance_testing$field &lt;- factor(significance_testing$field,
                                     levels = c(&quot;Arts and Humanities&quot;,
                                                &quot;Social Sciences&quot;,
                                                &quot;Health Sciences&quot;,
                                                &quot;Life Sciences&quot;,
                                                &quot;Physical Sciences&quot;))
significance_testing &lt;- significance_testing %&gt;%
  arrange(field)

significance_testing$group1 &lt;- &quot;m&quot;
significance_testing$group2 &lt;- &quot;w&quot;
significance_testing$x &lt;- c(1,2,3,4, 5)
significance_testing$xmin &lt;- c(0.75,1.75,2.75,3.75, 4.75)
significance_testing$xmax &lt;- c(1.25,2.25, 3.25,4.25, 5.25)
significance_testing$comparison &lt;- &quot;m&quot;


average_news &lt;- mean_values_field %&gt;%
  ggplot(aes(x=fct_rev(field), y=total, fill = fct_rev(comparison), color = fct_rev(comparison))) + 
  geom_bar(position=position_dodge(.5),stat=&quot;identity&quot;, alpha=1, width = 0.5)+
  geom_errorbar(
    aes(y=total, 
        x = fct_rev(field),
        group = fct_rev(comparison),
        ymin = total_lci, 
        ymax = total_uci
    ),
    width = 0.2,
    stat=&quot;identity&quot;,
    position=position_dodge(.5),)+
  guides(fill = guide_legend(reverse = TRUE, title = &quot;Inferred gender&quot;),
         color = guide_legend(reverse = TRUE, title = &quot;Inferred gender&quot;))+
  scale_fill_manual(values =  c(&quot;#F5C710&quot;, &quot;#61D04F&quot;)  , labels = c(&quot;Women&quot;, &quot;Men&quot;))+
  scale_color_manual(values =  c(&quot;#997b06&quot;, &quot;#338a25&quot;)  , labels = c(&quot;Women&quot;, &quot;Men&quot;), guide=&quot;none&quot;)+
  ggtitle(&quot;Printed news attention&quot;)+
  stat_pvalue_manual(
    significance_testing,
    y.position = c(190, 190, 190, 190, 190),
    label.size = 3,
    coord.flip = TRUE,
    tip.length = 0.005,
    label = &quot;{total}&quot;,
    remove.bracket = FALSE,
    hide.ns = TRUE
  )+
  scale_y_continuous(limits = c(0, 200), breaks = seq(0, 200, by = 40))+
  ylab(&quot;Average mentions over lifetime&quot;)+
  xlab(&quot;Field&quot;)+
  labs(color = &quot;Inferred gender&quot;,
       fill = &quot;Inferred gender&quot;)+
  theme_minimal_vgrid()+
  theme(plot.title = element_text(size = 8),
        axis.text.y = element_text(size = 6),
        axis.title.y = element_text(size = 7),
        axis.text.x = element_text(size = 6) ,
        axis.title.x = element_text(size = 7),
        legend.title=element_text(size=7), 
        legend.text=element_text(size=6),
        legend.key.size = unit(0.1, &quot;in&quot;))+
  coord_flip()

average_online &lt;- mean_values_field %&gt;%
  ggplot(aes(x=fct_rev(field), y=online_total, fill = fct_rev(comparison), color = fct_rev(comparison))) + 
  geom_bar(position=position_dodge(.5),stat=&quot;identity&quot;, alpha=1, width = 0.5)+
  geom_errorbar(
    aes(y=total, 
        x = fct_rev(field),
        group = fct_rev(comparison),
        ymin = online_total_lci, 
        ymax = online_total_uci
    ),
    width = 0.2,
    stat=&quot;identity&quot;,
    position=position_dodge(.5),)+
  guides(fill = guide_legend(reverse = TRUE, title = &quot;Inferred gender&quot;),
         color = guide_legend(reverse = TRUE, title = &quot;Inferred gender&quot;))+
  scale_fill_manual(values =  c(&quot;#F5C710&quot;, &quot;#61D04F&quot;)  , labels = c(&quot;Women&quot;, &quot;Men&quot;))+
  scale_color_manual(values =  c(&quot;#997b06&quot;, &quot;#338a25&quot;)  , labels = c(&quot;Women&quot;, &quot;Men&quot;), guide=&quot;none&quot;)+
  ggtitle(&quot;Online news attention&quot;)+
  scale_y_continuous(limits = c(0, 240), breaks = seq(0, 240, by = 60))+
  stat_pvalue_manual(
    significance_testing,
    y.position = c(230, 230, 230, 230, 230),
    label.size = 3,
    coord.flip = TRUE,
    tip.length = 0.005,
    label = &quot;{online_total}&quot;,
  )+
  ylab(&quot;Average mentions over lifetime&quot;)+
  labs(color = &quot;Inferred gender&quot;,
       fill = &quot;Inferred gender&quot;)+
  theme_minimal_vgrid()+
  theme(plot.title = element_text(size = 8),
        axis.text.y = element_text(size = 6),
        axis.title.y = element_text(size = 7),
        axis.text.x = element_text(size = 6) ,
        axis.title.x = element_text(size = 7),
        legend.title=element_text(size=7), 
        legend.text=element_text(size=6),
        legend.key.size = unit(0.1, &quot;in&quot;))+
  coord_flip()+
  xlab(&quot;Field&quot;)


average_twitter &lt;- mean_values_field %&gt;%
  ggplot(aes(x=fct_rev(field), y=twitter_total, fill = fct_rev(comparison), color = fct_rev(comparison))) + 
  geom_bar(position=position_dodge(.5),stat=&quot;identity&quot;, alpha=1, width = 0.5)+
  geom_errorbar(
    aes(y=total, 
        x = fct_rev(field),
        group = fct_rev(comparison),
        ymin = twitter_total_lci, 
        ymax = twitter_total_uci
    ),
    width = 0.2,
    stat=&quot;identity&quot;,
    position=position_dodge(.5),)+
  guides(fill = guide_legend(reverse = TRUE, title = &quot;Inferred gender&quot;),
         color = guide_legend(reverse = TRUE, title = &quot;Inferred gender&quot;))+
  scale_fill_manual(values =  c(&quot;#F5C710&quot;, &quot;#61D04F&quot;)  , labels = c(&quot;Women&quot;, &quot;Men&quot;))+
  scale_color_manual(values =  c(&quot;#997b06&quot;, &quot;#338a25&quot;)  , labels = c(&quot;Women&quot;, &quot;Men&quot;), guide=&quot;none&quot;)+
  ggtitle(&quot;Twitter/X attention&quot;)+
  stat_pvalue_manual(
    significance_testing,
    y.position = c(1480, 1480, 1480, 1480, 1480),
    label.size = 3,
    coord.flip = TRUE,
    tip.length = 0.005,
    label = &quot;{twitter_total}&quot;,
    remove.bracket = FALSE,
  )+
  scale_y_continuous(limits = c(0, 1500), breaks = seq(0, 1500, by = 375))+
  ylab(&quot;Average mentions over lifetime&quot;)+
  labs(color = &quot;Inferred gender&quot;,
       fill = &quot;Inferred gender&quot;)+
  theme_minimal_vgrid()+
  theme(plot.title = element_text(size = 8),
        axis.text.y = element_text(size = 6),
        axis.title.y = element_text(size = 7),
        axis.text.x = element_text(size = 6) ,
        axis.title.x = element_text(size = 7),
        legend.title=element_text(size=7), 
        legend.text=element_text(size=6),
        legend.key.size = unit(0.1, &quot;in&quot;))+
  coord_flip()+
  xlab(&quot;Field&quot;)</code></pre>
<p>Combine these plots into one (Figure 2, panel A):</p>
<pre class="r"><code>legend_average &lt;- get_legend(
  # create some space to the left of the legend
  average_news
)

combi_plot_averages &lt;- plot_grid(average_news + 
                                   theme(legend.position=&quot;none&quot;, 
                                         axis.title.x = element_blank(),
                                         axis.title.y=element_blank())
                                 + panel_border(), 
                                 average_online + theme(legend.position=&quot;none&quot;,
                                                        axis.title.x = element_blank(),
                                                        axis.title.y=element_blank(),
                                                        axis.text.y = element_blank())
                                 + panel_border(), 
                                 average_twitter + theme(legend.position=&quot;none&quot;,
                                                         axis.title.y=element_blank(),
                                                         axis.title.x = element_blank(),
                                                         axis.text.y = element_blank())
                                 + panel_border(), 
                                 legend_average,
                                 ncol = 4,
                                 rel_widths = c(1.3, 0.9, 0.9, 0.4))

combi_plot_averages</code></pre>
<p><img src="Analyses_main_files/figure-html/unnamed-chunk-7-1.png" width="960" /></p>
</div>
<div id="figure-2b-womens-representation" class="section level2"
number="3.2">
<h2><span class="header-section-number">3.2</span> Figure 2B: Women’s
representation</h2>
<p>First, get representation per field in our dataset: (6,791
professors)</p>
<pre class="r"><code>repr_field_2023 &lt;- prof_panel_filter %&gt;%
  group_by(profile_id)%&gt;%
  filter(year == max(year))%&gt;%
  filter(!is.na(overall_adj_domain))%&gt;%
  group_by(overall_adj_domain, inferred_gender)%&gt;%
  summarise(n = n())%&gt;%
  pivot_wider(values_from = n, names_from = inferred_gender)

repr_field_2023$share_women_field &lt;- repr_field_2023$w/(repr_field_2023$m+repr_field_2023$w)</code></pre>
<div id="among-top-n-researchers" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Among top N
researchers</h3>
<p>Now get the representation of women among the top 10% and 20% of
researchers in terms of total fame in their field in 2023 (based on
their entry batch):</p>
<pre class="r"><code># first, get the latest year in the panel for each prof
women_field_2023 &lt;- prof_panel_filter %&gt;%
  group_by(profile_id)%&gt;%
  filter(year == max(year))

# and now set the final year as 2023, assuming there was no attention after
# whatever the last year is in the dataset (quite some professors with
# 0 mentions even in this last year, so we want to keep them for correct
# shares)
women_field_2023$year &lt;- 2023

# get their decile based on their total performance within their general field
women_field_2023 &lt;- women_field_2023 %&gt;%
  filter(!is.na(overall_adj_domain))%&gt;%
  dplyr::select(profile_id, year, inferred_gender, overall_adj_domain, count_pubs_total,
                cited_by_total_all, alt_online_all_total, news_all_total, alt_twitter_total)%&gt;%
  mutate(across(count_pubs_total:alt_twitter_total, ~replace(., is.na(.), 0)))%&gt;%
  group_by(overall_adj_domain)%&gt;%
  mutate(`News` = ntile(-news_all_total, 20),
         `Online news` = ntile(-alt_online_all_total, 20),
         `Twitter` = ntile(-alt_twitter_total, 20))</code></pre>
<p>Get shares of women among top n% scientists per attention domain:</p>
<pre class="r"><code># rearrange the dataset to get counts of women and men in each decile
# then leave only top 10 and 20
share_women_field_2023 &lt;- women_field_2023 %&gt;%
  ungroup()%&gt;%
  dplyr::select(profile_id, year, inferred_gender, overall_adj_domain, `News`:`Twitter`)%&gt;%
  pivot_longer(`News`:`Twitter`)%&gt;%
  group_by(overall_adj_domain, inferred_gender, name, value)%&gt;%
  summarise(n = n())%&gt;%
  pivot_wider(values_from = n, names_from = inferred_gender)%&gt;%
  replace(is.na(.), 0)%&gt;%
  group_by(overall_adj_domain, name)%&gt;%
  mutate(m = cumsum(m),
         w = cumsum(w))%&gt;%
  filter(value %in% c(1, 2))

share_women_field_2023$share_women &lt;- share_women_field_2023$w/(share_women_field_2023$m+share_women_field_2023$w) </code></pre>
<p>Combine the field representation with the attention
representation:</p>
<pre class="r"><code>repr_field_2023$name &lt;- &quot;overall&quot;
repr_field_2023$value &lt;- 0

repr_field_2023 &lt;- repr_field_2023[c(colnames(share_women_field_2023)[1:5],&quot;share_women_field&quot;)]

share_women_field_2023 &lt;- merge(share_women_field_2023,
                                repr_field_2023[c(&quot;overall_adj_domain&quot;, &quot;share_women_field&quot;)],
                                by = &quot;overall_adj_domain&quot;)

share_women_field_2023$share_diff &lt;- (share_women_field_2023$share_women - share_women_field_2023$share_women_field)*100</code></pre>
<p>Plot this out:</p>
<p>Top 5% and top 10%:</p>
<pre class="r"><code>share_women_field_2023$overall_adj_domain &lt;- factor(share_women_field_2023$overall_adj_domain,
                                                    levels = c(&quot;Physical Sciences&quot;,
                                                               &quot;Life Sciences&quot;,
                                                               &quot;Health Sciences&quot;,
                                                               &quot;Social Sciences&quot;,
                                                               &quot;Arts and Humanities&quot;))

repr_attn_5 &lt;- share_women_field_2023 %&gt;%
  filter(value == 1 &amp; name %in% c(&quot;News&quot;, &quot;Online news&quot;, &quot;Twitter&quot;))%&gt;%
  ggplot(aes(y=share_diff, x=fct_rev(overall_adj_domain), fill=name, color=name)) + 
  geom_bar(position = position_dodge2(reverse = TRUE, width = 1.4), stat=&quot;identity&quot;, width = 1.4)+
  guides(fill = guide_legend(reverse=FALSE, title = &quot;Measure&quot;),
         color = guide_legend(reverse=FALSE, title = &quot;Measure&quot;))+
  scale_color_manual(labels = c(&quot;Printed news&quot;, &quot;Online news&quot;, &quot;Twitter/X&quot;), values = c(&quot;#8f4765&quot;, &quot;#da1f17&quot;, &quot;#3f5f84&quot;))+
  scale_fill_manual(labels = c(&quot;Printed news&quot;, &quot;Online news&quot;, &quot;Twitter/X&quot;), values = c(&quot;#bb7693&quot;, &quot;#ef6f6a&quot;, &quot;#6388b4&quot;))+
  scale_y_continuous(limits = c(-20, 15), breaks = seq(-20, 15, by = 5))+
  scale_x_discrete(limits = c(levels(share_women_field_2023$overall_adj_domain)[5],
                              &quot;A&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[4],
                              &quot;B&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[3],
                              &quot;C&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[2],
                              &quot;D&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[1]),
                   labels = c(&quot;A&quot; = &quot;&quot;,
                              &quot;B&quot; = &quot;&quot;,
                              &quot;C&quot; = &quot;&quot;,
                              &quot;D&quot; = &quot;&quot;))+
  geom_hline(yintercept=0, 
             color = &quot;black&quot;, size=0.7)+
  coord_flip()+
  xlab(&quot;&quot;)+
  ylab(&quot;Under-/overrepresentation of women (in %)&quot;)+
  labs(color = &quot;Attention type&quot;,
       fill = &quot;Attention type&quot;)+
  ggtitle(&quot;Top 5% of attention type&quot;)+
  theme_minimal_vgrid()+
  theme(plot.title = element_text(size = 8),
        axis.text.y = element_text(size = 6),
        axis.title.y = element_text(size = 7),
        axis.text.x = element_text(size = 6) ,
        axis.title.x = element_text(size = 7),
        legend.title=element_text(size=7), 
        legend.text=element_text(size=6),
        legend.key.size = unit(0.1, &quot;in&quot;))+
  panel_border()

repr_attn_10 &lt;- share_women_field_2023 %&gt;%
  filter(value == 2 &amp; name %in% c(&quot;News&quot;, &quot;Online news&quot;, &quot;Twitter&quot;))%&gt;%
  ggplot(aes(y=share_diff, x=fct_rev(overall_adj_domain), fill=name, color=name)) + 
  geom_bar(position = position_dodge2(reverse = TRUE, width = 1.4), stat=&quot;identity&quot;, width = 1.4)+
  guides(fill = guide_legend(reverse=FALSE, title = &quot;Measure&quot;),
         color = guide_legend(reverse=FALSE, title = &quot;Measure&quot;))+
  scale_color_manual(labels = c(&quot;Printed news&quot;, &quot;Online news&quot;, &quot;Twitter/X&quot;), values = c(&quot;#8f4765&quot;, &quot;#da1f17&quot;, &quot;#3f5f84&quot;))+
  scale_fill_manual(labels = c(&quot;Printed news&quot;, &quot;Online news&quot;, &quot;Twitter/X&quot;), values = c(&quot;#bb7693&quot;, &quot;#ef6f6a&quot;, &quot;#6388b4&quot;))+
  scale_y_continuous(limits = c(-20, 15), breaks = seq(-20, 15, by = 5))+
  scale_x_discrete(limits = c(levels(share_women_field_2023$overall_adj_domain)[5],
                              &quot;A&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[4],
                              &quot;B&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[3],
                              &quot;C&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[2],
                              &quot;D&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[1]),
                   labels = c(&quot;A&quot; = &quot;&quot;,
                              &quot;B&quot; = &quot;&quot;,
                              &quot;C&quot; = &quot;&quot;,
                              &quot;D&quot; = &quot;&quot;))+
  geom_hline(yintercept=0, 
             color = &quot;black&quot;, size=0.7)+
  coord_flip()+
  xlab(&quot;&quot;)+
  ylab(&quot;Under-/overrepresentation of women (in %)&quot;)+
  labs(color = &quot;Attention type&quot;,
       fill = &quot;Attention type&quot;)+
  ggtitle(&quot;Top 10% of attention type&quot;)+
  theme_minimal_vgrid()+
  theme(plot.title = element_text(size = 8),
        axis.text.y = element_text(size = 6),
        axis.title.y = element_text(size = 7),
        axis.text.x = element_text(size = 6) ,
        axis.title.x = element_text(size = 7),
        legend.title=element_text(size=7), 
        legend.text=element_text(size=6),
        legend.key.size = unit(0.1, &quot;in&quot;))+
  panel_border()</code></pre>
</div>
<div id="within-total-attention" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Within total
attention</h3>
<p>Now get the shares of attention given to women compared to their
share in the field:</p>
<pre class="r"><code># first, get the latest year in the panel for each prof
women_field_2023 &lt;- prof_panel_filter %&gt;%
  group_by(profile_id)%&gt;%
  filter(year == max(year))

# and now set the final year as 2023, assuming there was no attention after
# whatever the last year is in the dataset (quite some professors with
# 0 mentions even in this last year, so we want to keep them for correct
# shares)
women_field_2023$year &lt;- 2023

# get their decile based on their total performance within their entry batch
women_field_2023_attn_share &lt;- women_field_2023 %&gt;%
  filter(!is.na(overall_adj_domain))%&gt;%
  dplyr::select(profile_id, year, inferred_gender, overall_adj_domain, count_pubs_total,
                cited_by_total_all, alt_online_all_total, news_all_total, alt_twitter_total)%&gt;%
  mutate(across(count_pubs_total:alt_twitter_total, ~replace(., is.na(.), 0)))%&gt;%
  group_by(overall_adj_domain)%&gt;%
  summarise(
    pub_w = sum(count_pubs_total[inferred_gender == &quot;w&quot;]),
    cit_w = sum(cited_by_total_all[inferred_gender == &quot;w&quot;]), 
    online_w = sum(alt_online_all_total[inferred_gender == &quot;w&quot;]),
    news_w = sum(news_all_total[inferred_gender == &quot;w&quot;]),
    twitter_w = sum(alt_twitter_total[inferred_gender == &quot;w&quot;]),
    pub = sum(count_pubs_total),
    cit = sum(cited_by_total_all), 
    online = sum(alt_online_all_total),
    news = sum(news_all_total),
    twitter = sum(alt_twitter_total)
  )%&gt;%
  mutate(
    `Publications` = pub_w/pub,
    `Citations` = cit_w/cit,    
    `Online news` = online_w/online,
    `News` = news_w/news,
    `Twitter` = twitter_w/twitter)%&gt;%
  dplyr::select(overall_adj_domain, `Publications`:`Twitter`)%&gt;%
  pivot_longer(!overall_adj_domain, names_to = &quot;name&quot;, values_to = &quot;share_women&quot;)</code></pre>
<p>Combine the field representation with the attention
representation:</p>
<pre class="r"><code>share_women_field_2023_attn_share &lt;- merge(women_field_2023_attn_share,
                                           repr_field_2023[c(&quot;overall_adj_domain&quot;, &quot;share_women_field&quot;)],
                                           by = &quot;overall_adj_domain&quot;)

share_women_field_2023_attn_share$share_diff &lt;- (share_women_field_2023_attn_share$share_women - share_women_field_2023_attn_share$share_women_field)*100</code></pre>
<p>Plot this out:</p>
<pre class="r"><code>share_women_field_2023_attn_share$overall_adj_domain &lt;- factor(share_women_field_2023_attn_share$overall_adj_domain,
                                                               levels = c(&quot;Physical Sciences&quot;,
                                                                          &quot;Life Sciences&quot;,
                                                                          &quot;Health Sciences&quot;,
                                                                          &quot;Social Sciences&quot;,
                                                                          &quot;Arts and Humanities&quot;))

repr_attn_share &lt;- share_women_field_2023_attn_share %&gt;%
  filter(name %in% c(&quot;News&quot;, &quot;Online news&quot;, &quot;Twitter&quot;))%&gt;%
  ggplot(aes(y=share_diff, x=fct_rev(overall_adj_domain), fill=name, color=name)) + 
  geom_bar(position = position_dodge2(reverse = TRUE, width = 1.4), stat=&quot;identity&quot;, width = 1.4)+
  guides(fill = guide_legend(reverse=FALSE, title = &quot;Attention type&quot;),
         color = guide_legend(reverse=FALSE, title = &quot;Attention type&quot;))+
  scale_color_manual(labels = c(&quot;Printed news&quot;, &quot;Online news&quot;, &quot;Twitter/X&quot;), values = c(&quot;#8f4765&quot;, &quot;#da1f17&quot;, &quot;#3f5f84&quot;))+
  scale_fill_manual(labels = c(&quot;Printed news&quot;, &quot;Online news&quot;, &quot;Twitter/X&quot;), values = c(&quot;#bb7693&quot;, &quot;#ef6f6a&quot;, &quot;#6388b4&quot;))+
  scale_y_continuous(limits = c(-20, 15), breaks = seq(-20, 15, by = 5))+
  scale_x_discrete(limits = c(levels(share_women_field_2023$overall_adj_domain)[5],
                              &quot;A&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[4],
                              &quot;B&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[3],
                              &quot;C&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[2],
                              &quot;D&quot;,
                              levels(share_women_field_2023$overall_adj_domain)[1]),
                   labels = c(&quot;A&quot; = &quot;&quot;,
                              &quot;B&quot; = &quot;&quot;,
                              &quot;C&quot; = &quot;&quot;,
                              &quot;D&quot; = &quot;&quot;))+
  geom_hline(yintercept=0, 
             color = &quot;black&quot;, size=0.7)+
  coord_flip()+
  xlab(&quot;&quot;)+
  ylab(&quot;Under-/overrepresentation of women (in %)&quot;)+
  labs(color = &quot;Attention type&quot;,
       fill = &quot;Attention type&quot;)+
  ggtitle(&quot;Total attention&quot;)+
  theme_minimal_vgrid()+
  theme(plot.title = element_text(size = 8),
        axis.text.y = element_text(size = 6),
        axis.title.y = element_text(size = 7),
        axis.text.x = element_text(size = 6) ,
        axis.title.x = element_text(size = 7),
        legend.title=element_text(size=7), 
        legend.text=element_text(size=6),
        legend.key.size = unit(0.1, &quot;in&quot;))+
  panel_border()</code></pre>
<p>Combine the plots for Figure 1, panel B:</p>
<pre class="r"><code>legend_share &lt;- get_legend(
  repr_attn_share
)


combi_plot &lt;- plot_grid(repr_attn_share + theme(legend.position=&quot;none&quot;, 
                                                axis.title.x = element_blank(),
                                                axis.title.y=element_blank()), 
                        repr_attn_5 + theme(legend.position=&quot;none&quot;,
                                            axis.title.x = element_blank(),
                                            axis.title.y=element_blank(),
                                            axis.text.y = element_blank()),
                        repr_attn_10 + theme(legend.position=&quot;none&quot;,
                                             axis.title.y=element_blank(),
                                             axis.title.x = element_blank(),
                                             axis.text.y = element_blank()),
                        legend_share,
                        
                        
                        ncol = 4,
                        rel_widths = c(1.3, 0.9, 0.9, 0.4))

combi_plot</code></pre>
<p><img src="Analyses_main_files/figure-html/unnamed-chunk-16-1.png" width="960" /></p>
<p>Print out Figure 1 in the main text.</p>
<pre class="r"><code>combi_plot_2 &lt;- plot_grid(
  combi_plot_averages,
  combi_plot,
  labels = c(&quot;A&quot;,&quot;B&quot;),
  label_size = 10,
  ncol = 1,
  nrow = 2,
  rel.heights = c(1, 1),
  align = &#39;v&#39;,
  axis = &#39;l&#39;)

combi_plot_2</code></pre>
<p><img src="Analyses_main_files/figure-html/unnamed-chunk-17-1.png" width="1056" /></p>
<pre class="r"><code>ggsave2(
  filename = &quot;results/main/Figure_2.png&quot;,
  plot = combi_plot_2,
  width = 7,
  height = 4.5,
  units = c(&quot;in&quot;),
  dpi = 900,
  bg = &quot;white&quot;
)

# save a high-res publication figure
ggsave2(
  filename = &quot;results/high_res_figures/Figure_2.tiff&quot;,
  plot = combi_plot_2,
  width = 7,
  height = 4.5,
  units = c(&quot;in&quot;),
  dpi = 900,
  bg = &quot;white&quot;
)</code></pre>
</div>
</div>
</div>
<div id="figure-2-regression-models" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Figure 2: Regression
models</h1>
<p>Set the gender indicator to a factor, as well as some other variables
of interest:</p>
<pre class="r"><code>prof_panel_filter$inferred_gender &lt;- as.factor(prof_panel_filter$inferred_gender)
prof_panel_filter$institution_dutch_total_narcis &lt;- as.factor(prof_panel_filter$institution_dutch_total_narcis)</code></pre>
<p>See “helper_functions.R” for details on the function we use to fit
the models.</p>
<p>All of our models control for: - total publications published up to
the last period - average SJR impact factor of publications published up
to the last period - share of publications on which the professor is
first/single author - total citations received up to the last period -
total online attention received up to the last period - total twitter
attention received up to the last period - total citations received by
all coauthors up to the last period - printed news/online news/
Twitter/X attention received by all coauthors up to the last period
(depending on the dep. var.) - institution controls - year controls</p>
<p>Individual clustered SE. Models ran per each field separately. We
log-transform relevant count variables.</p>
<p>This function returns a list containing the model coefficients.</p>
<p>We then use this output to plot our results and output the final
model tables.</p>
<p>News attention models:</p>
<pre class="r"><code>news_formula_main_model &lt;- &quot;log(news_all+1) ~ inferred_gender + years_since_first_pub + as.factor(year) + log(count_pubs_total_l+1) + log(cited_by_total_all_l+1) + log(coa_tot_cited_by_total_l+1) + log(coa_online_combi_total_l+1) + log(alt_online_all_total_l+1) + log(alt_twitter_total_l+1) + avg_sjr_total_l + share_first_au_total_l + institution_dutch_total_narcis&quot;


news_model_ols_log &lt;- lm_fitter_cl_robust_scopus(panel_dataset = prof_panel_filter,
                                                 lm_formula = news_formula_main_model,
                                                 year_cutoff_upper = 2023,
                                                 year_cutoff_lower = 2012)</code></pre>
<p>Online news attention models:</p>
<pre class="r"><code>online_news_formula_main_model &lt;- &quot;log(alt_online_all+1) ~ inferred_gender + years_since_first_pub + as.factor(year) + log(count_pubs_total_l+1) + log(cited_by_total_all_l+1) + log(coa_tot_cited_by_total_l+1) + log(coa_online_combi_total_l+1) + log(news_all_total_l+1) + log(alt_twitter_total_l+1) + avg_sjr_total_l + share_first_au_total_l + institution_dutch_total_narcis&quot;


online_news_model_ols_log &lt;- lm_fitter_cl_robust_scopus(panel_dataset = prof_panel_filter,
                                                        lm_formula = online_news_formula_main_model,
                                                        year_cutoff_upper = 2023,
                                                        year_cutoff_lower = 2012)</code></pre>
<p>Twitter/X attention models:</p>
<pre class="r"><code>twitter_formula_main_model &lt;- &quot;log(alt_twitter+1) ~ inferred_gender + years_since_first_pub + as.factor(year) + log(count_pubs_total_l+1) + log(cited_by_total_all_l+1) + log(coa_tot_cited_by_total_l+1) + log(coa_online_combi_total_l+1) + log(news_all_total_l+1) + log(alt_online_all_total_l+1) + avg_sjr_total_l + share_first_au_total_l + institution_dutch_total_narcis&quot;

twitter_model_ols_log  &lt;- lm_fitter_cl_robust_scopus(panel_dataset = prof_panel_filter,
                                                     lm_formula = twitter_formula_main_model,
                                                     year_cutoff_upper = 2023,
                                                     year_cutoff_lower = 2012)</code></pre>
<div id="figure-2a-gender-differences" class="section level2"
number="4.1">
<h2><span class="header-section-number">4.1</span> Figure 2A: gender
differences</h2>
<p>Plot all the gender differences:</p>
<pre class="r"><code># get the exponentiated model estimates for gender
gender_estimates1 &lt;- news_model_ols_log[[1]]%&gt;%
  filter(term == &quot;inferred_genderw&quot;)
gender_estimates1$model &lt;- &quot;Printed news&quot;
gender_estimates2 &lt;- online_news_model_ols_log[[1]]%&gt;%
  filter(term == &quot;inferred_genderw&quot;)
gender_estimates2$model &lt;- &quot;Online news&quot;
gender_estimates3 &lt;- twitter_model_ols_log[[1]]%&gt;%
  filter(term == &quot;inferred_genderw&quot;)
gender_estimates3$model &lt;- &quot;Twitter/X&quot;

gender_estimates &lt;- rbind(gender_estimates1,
                          gender_estimates2,
                          gender_estimates3)

gender_estimates$model &lt;- factor(gender_estimates$model,
                                 levels = c(&quot;Printed news&quot;,
                                            &quot;Online news&quot;,
                                            &quot;Twitter/X&quot;))

gender_estimates$stars &lt;- ifelse(gender_estimates$stars == &quot;.&quot;,
                                 &quot;&quot;,
                                 gender_estimates$stars)

# exponentiate the coefficiens
gender_estimates$Estimate_exp &lt;- exp(gender_estimates$Estimate)
gender_estimates$upper_ci_exp &lt;- exp(gender_estimates$upper_ci)
gender_estimates$lower_ci_exp &lt;- exp(gender_estimates$lower_ci)

(all_gender_plot &lt;- gender_estimates %&gt;%
    ggplot(aes(x = fct_rev(field),
               y = Estimate_exp,
               ymin = upper_ci_exp,
               ymax = lower_ci_exp,
               color = field)) +
    geom_pointrange(position = position_dodge(width = 0.5),
                    size = 0.5, fatten = 2.5) +
    geom_text(data = gender_estimates, aes(x = fct_rev(field), y = Estimate_exp, label = stars), hjust = -0.8, vjust = 0.3)+
    scale_y_continuous(limits = c(0.5, 1.5), breaks = seq(0.5, 1.5, by = 0.25))+
    geom_hline(yintercept = 1, linetype=&quot;dashed&quot;)+
    scale_x_discrete(labels=c(&quot;arts&quot; = &quot;Arts and Humanities&quot;,
                              &quot;health&quot; = &quot;Health sciences&quot;,
                              &quot;soc_sci&quot; = &quot;Social sciences&quot;,
                              &quot;life&quot; = &quot;Life sciences&quot;,
                              &quot;phys&quot; = &quot;Physical sciences&quot;))+
    ylab(&quot;Ratio of mean mentions for women compared to men&quot;)+
    scale_color_manual(values =  c(&quot;#1F78B4&quot;, &quot;#33A02C&quot;, &quot;#FF7F00&quot;, &quot;#6A3D9A&quot;, &quot;#B15928&quot;))+
    theme_minimal_hgrid()+
    coord_flip()+
    facet_wrap( ~ model, ncol = 3)+
    theme(plot.title = element_text(size = 8),
          axis.text.y = element_text(size = 6),
          axis.title.y = element_blank(),
          axis.text.x = element_text(size = 6, angle = 30, hjust = 0.9) ,
          axis.title.x = element_text(size = 7),
          strip.text.x=element_text(face=&quot;bold&quot;, size = 8),
          legend.position=&quot;none&quot;)+
    panel_border())</code></pre>
<p><img src="Analyses_main_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
</div>
<div id="figure-2b-other-coefficients" class="section level2"
number="4.2">
<h2><span class="header-section-number">4.2</span> Figure 2B: Other
coefficients</h2>
<p>Combine this all to plot the coefficients in one plot.</p>
<p>First, prepare the dataframe:</p>
<pre class="r"><code>model_news &lt;- news_model_ols_log[[1]]
model_online_news &lt;- online_news_model_ols_log[[1]]
model_twitter &lt;- twitter_model_ols_log[[1]]

model_news$model &lt;- &quot;News attention&quot;
model_online_news$model &lt;- &quot;Online news attention&quot;
model_twitter$model &lt;- &quot;Twitter attention&quot;

all_models_plot &lt;- rbind(model_news,
                         model_online_news,
                         model_twitter)


all_models_plot$term &lt;- ordered(all_models_plot$term,
                                levels = c(&quot;(Intercept)&quot;,
                                           &quot;inferred_genderw&quot;,
                                           &quot;log(cited_by_total_all_l + 1)&quot;,
                                           &quot;log(count_pubs_total_l + 1)&quot;,
                                           &quot;log(news_all_total_l + 1)&quot;,
                                           &quot;log(alt_online_all_total_l + 1)&quot;, 
                                           &quot;log(alt_twitter_total_l + 1)&quot;,
                                           &quot;log(coa_tot_cited_by_total_l + 1)&quot;,
                                           &quot;log(coa_online_combi_total_l + 1)&quot;,
                                           &quot;avg_sjr_total_l&quot;,
                                           &quot;share_first_au_total_l&quot;,
                                           &quot;years_since_first_pub&quot;,
                                           &quot;as.factor(year)2014&quot;,
                                           &quot;as.factor(year)2015&quot;,
                                           &quot;as.factor(year)2016&quot;,
                                           &quot;as.factor(year)2017&quot;,
                                           &quot;as.factor(year)2018&quot;,
                                           &quot;as.factor(year)2019&quot;,
                                           &quot;as.factor(year)2020&quot;,
                                           &quot;as.factor(year)2021&quot;,
                                           &quot;as.factor(year)2022&quot;,
                                           &quot;as.factor(year)2023&quot;,
                                           &quot;institution_dutch_total_narcisuni_1&quot;,
                                           &quot;institution_dutch_total_narcisuni_2&quot;,
                                           &quot;institution_dutch_total_narcisuni_3&quot;,
                                           &quot;institution_dutch_total_narcisuni_4&quot;,
                                           &quot;institution_dutch_total_narcisuni_5&quot;,
                                           &quot;institution_dutch_total_narcisuni_6&quot;,
                                           &quot;institution_dutch_total_narcisuni_7&quot;,
                                           &quot;institution_dutch_total_narcisuni_8&quot;,
                                           &quot;institution_dutch_total_narcisuni_9&quot;,
                                           &quot;institution_dutch_total_narcisuni_10&quot;,
                                           &quot;institution_dutch_total_narcisuni_11&quot;,
                                           &quot;institution_dutch_total_narcisuni_12&quot;,
                                           &quot;institution_dutch_total_narcisuni_13&quot;,
                                           &quot;institution_dutch_total_narcisuni_14&quot;,
                                           &quot;institution_dutch_total_narcisuni_15&quot;,
                                           &quot;R^2&quot;))

all_models_plot$model &lt;- ordered(all_models_plot$model,
                                 levels = c(&quot;News attention&quot;,
                                            &quot;Online news attention&quot;,
                                            &quot;Twitter attention&quot; ))


all_models_plot$field &lt;- ordered(all_models_plot$field,
                                 levels = c(&quot;phys&quot;,
                                            &quot;life&quot;,
                                            &quot;health&quot;,
                                            &quot;soc_sci&quot;,
                                            &quot;arts&quot;))

covariate_names &lt;- c(
  &#39;log(cited_by_total_all_l + 1)&#39;=&quot;Total citations\n(log-transformed)&quot;,
  &#39;log(count_pubs_total_l + 1)&#39;=&quot;Total publications\n(log-transformed)&quot;,
  &#39;log(news_all_total_l + 1)&#39;=&quot;Total printed news \nattention (log-transformed)&quot;,
  &#39;log(alt_online_all_total_l + 1)&#39;=&quot;Total online news\n attention (log-transformed)&quot;,
  &#39;log(alt_twitter_total_l + 1)&#39;=&quot;Total Twitter/X \nattention (log-transformed)&quot;,
  &#39;log(coa_tot_cited_by_total_l + 1)&#39; = &quot;Coauthors&#39; total citations\n(log-transformed)&quot;,
  &#39;log(coa_online_combi_total_l + 1)&#39; = &quot;Coauthors&#39; total online \nnews and Twitter/X attention\n(log-transformed)&quot;,
  &#39;share_first_au_total_l&#39; = &quot;Total share of first- and \nsingle-authored publications&quot;,
  &#39;avg_sjr_total_l&#39; = &quot;Total average SJR \nscore of publications&quot;
)

field_names &lt;- c(&quot;arts&quot; = &quot;Arts and\n Humanities&quot;,
                 &quot;health&quot; = &quot;Health \nsciences&quot;,
                 &quot;soc_sci&quot; = &quot;Social \nsciences&quot;,
                 &quot;life&quot; = &quot;Life sciences&quot;,
                 &quot;phys&quot; = &quot;Physical \nsciences&quot;)

media_names &lt;- c(&#39;News attention&#39; = &quot;Printed news&quot;,
                 &#39;Online news attention&#39; = &quot;Online news&quot;,
                 &#39;Twitter attention&#39; = &quot;Twitter/X&quot;)</code></pre>
<p>Plot out selected regression coefficients for physical sciences:</p>
<pre class="r"><code># reorder the factor for Figure 2
all_models_plot$term &lt;- ordered(all_models_plot$term,
                                levels = c(&quot;(Intercept)&quot;,
                                           &quot;inferred_genderw&quot;,
                                           &quot;log(count_pubs_total_l + 1)&quot;,
                                           &quot;share_first_au_total_l&quot;,
                                           &quot;log(cited_by_total_all_l + 1)&quot;,
                                           &quot;avg_sjr_total_l&quot;,
                                           &quot;log(news_all_total_l + 1)&quot;,
                                           &quot;log(alt_online_all_total_l + 1)&quot;, 
                                           &quot;log(alt_twitter_total_l + 1)&quot;,
                                           &quot;log(coa_tot_cited_by_total_l + 1)&quot;,
                                           &quot;log(coa_online_combi_total_l + 1)&quot;,
                                           &quot;years_since_first_pub&quot;,
                                           &quot;as.factor(year)2014&quot;,
                                           &quot;as.factor(year)2015&quot;,
                                           &quot;as.factor(year)2016&quot;,
                                           &quot;as.factor(year)2017&quot;,
                                           &quot;as.factor(year)2018&quot;,
                                           &quot;as.factor(year)2019&quot;,
                                           &quot;as.factor(year)2020&quot;,
                                           &quot;as.factor(year)2021&quot;,
                                           &quot;as.factor(year)2022&quot;,
                                           &quot;as.factor(year)2023&quot;,
                                           &quot;institution_dutch_total_narcisuni_1&quot;,
                                           &quot;institution_dutch_total_narcisuni_2&quot;,
                                           &quot;institution_dutch_total_narcisuni_3&quot;,
                                           &quot;institution_dutch_total_narcisuni_4&quot;,
                                           &quot;institution_dutch_total_narcisuni_5&quot;,
                                           &quot;institution_dutch_total_narcisuni_6&quot;,
                                           &quot;institution_dutch_total_narcisuni_7&quot;,
                                           &quot;institution_dutch_total_narcisuni_8&quot;,
                                           &quot;institution_dutch_total_narcisuni_9&quot;,
                                           &quot;institution_dutch_total_narcisuni_10&quot;,
                                           &quot;institution_dutch_total_narcisuni_11&quot;,
                                           &quot;institution_dutch_total_narcisuni_12&quot;,
                                           &quot;institution_dutch_total_narcisuni_13&quot;,
                                           &quot;institution_dutch_total_narcisuni_14&quot;,
                                           &quot;institution_dutch_total_narcisuni_15&quot;,
                                           &quot;R^2&quot;))

(selected_plot &lt;- all_models_plot %&gt;%
    filter(term %in% c(
      &quot;log(count_pubs_total_l + 1)&quot;,
      &quot;share_first_au_total_l&quot;,
      &quot;log(cited_by_total_all_l + 1)&quot;,
      &quot;avg_sjr_total_l&quot;,
      &quot;log(coa_tot_cited_by_total_l + 1)&quot;,
      &quot;log(coa_online_combi_total_l + 1)&quot;) &amp; field == &quot;phys&quot;) %&gt;%
    ggplot(aes(Estimate, fct_rev(term), color = model, shape = model, label = stars)) +
    geom_point(position = position_dodge(width = -0.7), size = 2.5) +
    geom_errorbar(aes(xmin = lower_ci, xmax = upper_ci),
                  width=0,
                  size=0.7,
                  position = position_dodge(width = -0.7)) +
    geom_text(hjust=0, vjust=0, position = position_dodge(width = -0.7), size = 2.3)+
    scale_y_discrete(labels=covariate_names,
                     name = &quot;Field&quot;)+
    scale_color_manual(labels = c(&quot;Printed news&quot;, &quot;Online news&quot;, &quot;Twitter/X&quot;), values = c(&quot;#bb7693&quot;, &quot;#ef6f6a&quot;, &quot;#6388b4&quot;))+
    scale_shape_discrete(labels = c(&quot;Printed news&quot;, &quot;Online news&quot;, &quot;Twitter/X&quot;))+
    # scale_x_continuous(limits = c(0.5, 2.25), breaks = seq(0.5, 2.25, by = 0.25))+
    labs(
      x = &quot;Regression coefficients&quot;,
      y = NULL,
      color = &quot;Attention type&quot;,
      shape = &quot;Attention type&quot;
    ) + 
    geom_vline(xintercept = 0,  colour=&quot;black&quot;, linetype = &quot;longdash&quot;)+
    facet_wrap( ~ model, labeller = as_labeller(media_names), ncol = 3)+
    theme_minimal_hgrid()+
    theme(plot.title = element_text(size = 8),
          axis.text.y = element_text(size = 6),
          axis.title.y = element_blank(),
          axis.text.x = element_text(size = 6, angle = 30, hjust = 0.9) ,
          axis.title.x = element_text(size = 7),
          legend.title=element_text(size=7), 
          legend.text=element_text(size=6),
          strip.text.x=element_text(face=&quot;bold&quot;, size = 8),
          legend.key.size = unit(0.1, &quot;in&quot;))+
    guides(color = guide_legend(override.aes = list(size = 2.5)),
           shape = guide_legend(override.aes = list(size = 2.5)),
           label = guide_legend(override.aes = list(size = 2.5)))+
    panel_border())</code></pre>
<p><img src="Analyses_main_files/figure-html/unnamed-chunk-24-1.png" width="1152" /></p>
<pre class="r"><code>legend &lt;- get_legend(
  # create some space to the left of the legend
  selected_plot
)

combi_plot_selected_coef &lt;- plot_grid(selected_plot + theme(legend.position=&quot;none&quot;),
                                      legend,
                                      ncol = 2,
                                      align = &#39;h&#39;,
                                      axis = &#39;tb&#39;,
                                      rel_widths = c(1, 0.131))</code></pre>
</div>
<div id="combined-plot" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Combined plot</h2>
<p>Combine the plots.</p>
<p>First, prepare the Figure 2A:</p>
<pre class="r"><code>legend &lt;- get_legend(
  # create some space to the left of the legend
  all_gender_plot
)

combi_plot_regression_pred &lt;- plot_grid(legend,
                                        all_gender_plot,
                                        legend,
                                        ncol = 3,
                                        align = &#39;h&#39;,
                                        axis = &#39;tb&#39;,
                                        rel_widths = c(0.05, 1, 0.135))</code></pre>
<p>Then, combine the two:</p>
<pre class="r"><code>combi_plot_regression &lt;- plot_grid(
  combi_plot_regression_pred,
  combi_plot_selected_coef,
  ncol = 1,
  nrow = 2,
  axis = &#39;lr&#39;,
  rel_heights = c(1, 1),
  labels = c(&quot;A&quot;, &quot;B&quot;),
  label_size = 10
)

combi_plot_regression</code></pre>
<p><img src="Analyses_main_files/figure-html/unnamed-chunk-26-1.png" width="720" /></p>
<pre class="r"><code>ggsave2(
  filename = &quot;results/main/Figure_3.png&quot;,
  plot = combi_plot_regression,
  width = 7,
  height = 4.5,
  units = c(&quot;in&quot;),
  dpi = 1200,
  bg = &quot;white&quot;
)

# save a high-res publication figure
ggsave2(
  filename = &quot;results/high_res_figures/Figure_3.tiff&quot;,
  plot = combi_plot_regression,
  width = 7,
  height = 4.5,
  units = c(&quot;in&quot;),
  dpi = 900,
  bg = &quot;white&quot;
)</code></pre>
</div>
<div id="figure-s6---coefficients-for-all-fields" class="section level2"
number="4.4">
<h2><span class="header-section-number">4.4</span> Figure S6 -
coefficients for all fields</h2>
<p>Plot the rest of the coefficients from the main model to be shown in
Figure S6 in the SI Appendix:</p>
<pre class="r"><code>media_field_names &lt;- c(media_names,
                       field_names)


(all_plot &lt;- all_models_plot %&gt;%
    filter(term %in% c(
      &quot;log(count_pubs_total_l + 1)&quot;,
      &quot;share_first_au_total_l&quot;,
      &quot;log(cited_by_total_all_l + 1)&quot;,
      &quot;avg_sjr_total_l&quot;,
      &quot;log(coa_tot_cited_by_total_l + 1)&quot;,
      &quot;log(coa_online_combi_total_l + 1)&quot;)) %&gt;%
    ggplot(aes(Estimate, fct_rev(term), color = model, shape = model, label = stars)) +
    geom_point(position = position_dodge(width = -0.7), size = 3) +
    geom_errorbar(aes(xmin = lower_ci, xmax = upper_ci),
                  width=0,
                  size=0.7,
                  position = position_dodge(width = -0.7)) +
    geom_text(hjust=0, vjust=0, position = position_dodge(width = -0.7), size = 3.5)+
    scale_y_discrete(labels=covariate_names,
                     name = &quot;Field&quot;)+
    scale_color_manual(labels = c(&quot;Printed news&quot;, &quot;Online news&quot;, &quot;Twitter/X&quot;), values = c(&quot;#bb7693&quot;, &quot;#ef6f6a&quot;, &quot;#6388b4&quot;))+
    scale_shape_discrete(labels = c(&quot;Printed news&quot;, &quot;Online news&quot;, &quot;Twitter/X&quot;))+
    #scale_x_continuous(limits = c(0, 4.5), breaks = seq(0, 4.5, by = 0.5))+
    labs(
      x = &quot;Regression coefficient&quot;,
      y = NULL,
      color = &quot;Attention type&quot;,
      shape = &quot;Attention type&quot;
    ) + 
    geom_vline(xintercept = 0,  colour=&quot;black&quot;, linetype = &quot;longdash&quot;)+
    facet_grid(field ~ model, labeller = as_labeller(media_field_names), scales = &quot;free_x&quot;)+
    theme_minimal_hgrid()+
    theme(plot.title = element_text(size = 11),
          axis.text.y = element_text(size = 9),
          axis.title.y = element_blank(),
          axis.text.x =  element_text(size = 9),
          axis.title.x = element_blank(),
          legend.title=element_blank(), 
          legend.text=element_blank())+
    #strip.text.x=element_text(size = 10))+
    panel_border())</code></pre>
<p><img src="Analyses_main_files/figure-html/unnamed-chunk-27-1.png" width="768" /></p>
<pre class="r"><code>ggsave2(
  filename = &quot;results/supplement_figures/SI_Fig_S6.png&quot;,
  plot = all_plot,
  width = 8,
  height = 10,
  units = c(&quot;in&quot;),
  dpi = 1200,
  bg = &quot;white&quot;
)</code></pre>
</div>
</div>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIk1haW4gYW5hbHlzZXMiDQphdXRob3I6ICJBbmEgTWFjYW5vdmljIg0KZGF0ZTogIjIwMjUtMDUtMTAiDQotLS0NCg0KIyBNYWluIEFuYWx5c2VzDQoNCkFuYWx5c2VzIHByZXNlbnRlZCBpbiB0aGUgbWFpbiB0ZXh0IG9mIHRoZSBtYW51c2NyaXB0LiANCg0KTG9hZCB0aGUgcGFja2FnZXM6DQpgYGB7ciBtZXNzYWdlPSAgRiwgd2FybmluZyA9IEYsIGV2YWwgPSBUfQ0Kc291cmNlKCJoZWxwZXJfZnVuY3Rpb25zLlIiKQ0KcGFja2FnZXNfdG9fbG9hZCA8LSBjKCJyZWFkciIsICJkcGx5ciIsICJ0aWR5ciIsIA0KICAgICAgICAgICAgICAgICAgICAgICJnZ3Bsb3QyIiwgImNvd3Bsb3QiLA0KICAgICAgICAgICAgICAgICAgICAgICJ0aWR5dmVyc2UiLCAiUlBvc3RncmVzIiwgDQogICAgICAgICAgICAgICAgICAgICAgImx1YnJpZGF0ZSIsICJsbXRlc3QiLCANCiAgICAgICAgICAgICAgICAgICAgICAic2FuZHdpY2giLCAiZ2dwdWJyIiwgDQogICAgICAgICAgICAgICAgICAgICAgImtuaXRyIiwgInNjYWxlcyIsIA0KICAgICAgICAgICAgICAgICAgICAgICJnZ2VmZmVjdHMiLCAiZmxleHRhYmxlIiwgDQogICAgICAgICAgICAgICAgICAgICAgIm9mZmljZXIiLCAiTUFTUyIsDQogICAgICAgICAgICAgICAgICAgICAgIkRlc2NUb29scyIsICJzdGV2ZW1pc2MiKQ0KDQpmcGFja2FnZV9jaGVjayhwYWNrYWdlc190b19sb2FkKQ0KDQoNCiMgRm9yIGZ1bGwgcmVwcm9kdWNpYmlsaXR5LCBsb2FkIHRoZSBwYWNrYWdlcyB3aXRoIGdyb3VuZGhvZyB1c2luZyB0aGUgY29kZSBiZWxvdyBpbnN0ZWFkDQojIG9mIHRoZSBmcGFja2FnZV9jaGVjayBmdW5jdGlvbg0KDQojIGxpYnJhcnkoZ3JvdW5kaG9nKQ0KIyBncm91bmRob2cubGlicmFyeShwYWNrYWdlc190b19sb2FkLCBkYXRlID0gIjIwMjQtNC0yMyIpDQpgYGANCg0KDQpgYGB7cn0NCm9wdHNfY2h1bmskc2V0KGVjaG8gPSBUUlVFKQ0Kb3B0c19jaHVuayRzZXQoZXZhbCA9IFRSVUUpDQpvcHRzX2NodW5rJHNldCh3YXJuaW5nID0gRkFMU0UpDQpvcHRzX2NodW5rJHNldChtZXNzYWdlID0gRkFMU0UpDQpgYGANCg0KDQpMb2FkIHRoZSBwYW5lbDoNCmBgYHtyIHdhcm5pbmcgPSBGLCBtZXNzYWdlID0gRn0NCnByb2ZfcGFuZWxfZmlsdGVyIDwtIHJlYWRfY3N2KCJwYW5lbF9kYXRhc2V0cy9wcm9mX3BhbmVsX2Fub255bWlzZWQuY3N2IikNCmBgYA0KDQojIEZpZ3VyZSAxOiBFeGFtcGxlcw0KDQpUaGVyZSBleGFtcGxlcyBhcmUgbWFudWFsbHkgc2VsZWN0ZWQgZnJvbSBvdXIgcGFuZWwgZGF0YXNldCBhbmQgb3VyIGRhdGFiYXNlLg0KDQojIEZpZ3VyZSAyOiBEZXNjcmlwdGl2ZSByZXN1bHRzDQoNCg0KIyMgRmlndXJlIDJBOiBNZW50aW9uIGF2ZXJhZ2VzDQoNCkF2ZXJhZ2UgbnVtYmVycyBvZiBtZW50aW9ucyBhbmQgY29tcGFyaXNvbiBwZXIgZ2VuZGVyLg0KDQpGaXJzdCwgZ2V0IHRoZSB0b3RhbHMgZm9yIHRoZSBsYXN0IG9ic2VydmF0aW9uIGZvciBlYWNoIHByb2Zlc3NvcjoNCmBgYHtyfQ0KcHJvZl90b3RhbHMgPC0gcHJvZl9wYW5lbF9maWx0ZXIgJT4lDQogIGdyb3VwX2J5KHByb2ZpbGVfaWQpJT4lDQogIGZpbHRlcih5ZWFyID09IG1heCh5ZWFyKSAmICFpcy5uYShvdmVyYWxsX2Fkal9kb21haW4pKQ0KYGBgDQoNCldpdGhpbi1maWVsZCBjb21wYXJpc29uOg0KYGBge3J9DQpmaWVsZHMgPC0gdW5pcXVlKHByb2ZfcGFuZWxfZmlsdGVyJG92ZXJhbGxfYWRqX2RvbWFpbikNCmZpZWxkcyA8LSBmaWVsZHNbIWlzLm5hKGZpZWxkcyldDQpmaWVsZF9jb21wYXJpc29ucyA8LSBkYXRhLmZyYW1lKG1hdHJpeChOQSwgbmNvbCA9IDUsIG5yb3cgPSBsZW5ndGgoZmllbGRzKSkpDQoNCmZvciAoaSBpbiAxOmxlbmd0aChmaWVsZHMpKXsNCiAgZmllbGQgPC0gZmllbGRzW2ldDQogIGRhdGEgPC0gZmlsdGVyKHByb2ZfdG90YWxzLCANCiAgICAgICAgICAgICAgICAgb3ZlcmFsbF9hZGpfZG9tYWluID09IGZpZWxkKQ0KICBmaWVsZF9jb21wYXJpc29uc1tpLCAxXSA8LSBmaWVsZA0KICBmaWVsZF9jb21wYXJpc29uc1tpLCAyXSA8LSBucm93KGRhdGEpDQogIGZpZWxkX2NvbXBhcmlzb25zW2ksIDNdIDwtIHJvdW5kKHQudGVzdChuZXdzX2FsbF90b3RhbCB+IGluZmVycmVkX2dlbmRlciwgZGF0YT1kYXRhLCBwYWlyZWQ9RkFMU0UpJHAudmFsdWUsIDUpDQogIGZpZWxkX2NvbXBhcmlzb25zW2ksIDRdIDwtIHJvdW5kKHQudGVzdChhbHRfb25saW5lX2FsbF90b3RhbCB+IGluZmVycmVkX2dlbmRlciwgZGF0YT1kYXRhLCBwYWlyZWQ9RkFMU0UpJHAudmFsdWUsIDUpDQogIGZpZWxkX2NvbXBhcmlzb25zW2ksIDVdIDwtIHJvdW5kKHQudGVzdChhbHRfdHdpdHRlcl90b3RhbCB+IGluZmVycmVkX2dlbmRlciwgZGF0YT1kYXRhLCBwYWlyZWQ9RkFMU0UpJHAudmFsdWUsIDUpDQp9DQoNCmNvbG5hbWVzKGZpZWxkX2NvbXBhcmlzb25zKSA8LSBjKCJmaWVsZCIsICJwcm9mcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidG90YWwiLCAib25saW5lX3RvdGFsIiwgInR3aXR0ZXJfdG90YWwiKQ0KZmllbGRfY29tcGFyaXNvbnMkY29tcGFyaXNvbiA8LSAgInR0ZXN0Ig0KDQoNCm1lYW5fdmFsdWVzX2ZpZWxkIDwtIHByb2ZfdG90YWxzICU+JQ0KICBmaWx0ZXIoIWlzLm5hKG92ZXJhbGxfYWRqX2RvbWFpbikpJT4lDQogIGdyb3VwX2J5KGluZmVycmVkX2dlbmRlciwgb3ZlcmFsbF9hZGpfZG9tYWluKSU+JQ0KICBzdW1tYXJpc2UodG90YWwgPSBtZWFuKG5ld3NfYWxsX3RvdGFsLCBuYS5ybSA9IFRSVUUpLA0KICAgICAgICAgICAgb25saW5lX3RvdGFsID0gbWVhbihhbHRfb25saW5lX2FsbF90b3RhbCwgbmEucm0gPSBUUlVFKSwNCiAgICAgICAgICAgIHR3aXR0ZXJfdG90YWwgPSAgbWVhbihhbHRfdHdpdHRlcl90b3RhbCwgbmEucm0gPSBUUlVFKSwNCiAgICAgICAgICAgIHRvdGFsX3NkID0gc2QobmV3c19hbGxfdG90YWwsIG5hLnJtID0gVFJVRSksDQogICAgICAgICAgICBvbmxpbmVfdG90YWxfc2QgPSBzZChhbHRfb25saW5lX2FsbF90b3RhbCwgbmEucm0gPSBUUlVFKSwNCiAgICAgICAgICAgIHR3aXR0ZXJfdG90YWxfc2QgPSAgc2QoYWx0X3R3aXR0ZXJfdG90YWwsIG5hLnJtID0gVFJVRSksDQogICAgICAgICAgICBhbGxfbiA9IG4oKSklPiUNCiAgbXV0YXRlKA0KICAgIA0KICAgIHRvdGFsX3NlID0gdG90YWxfc2QgLyBzcXJ0KGFsbF9uKSwNCiAgICBvbmxpbmVfdG90YWxfc2UgPSBvbmxpbmVfdG90YWxfc2QgLyBzcXJ0KGFsbF9uKSwNCiAgICB0d2l0dGVyX3RvdGFsX3NlID0gIHR3aXR0ZXJfdG90YWxfc2QgLyBzcXJ0KGFsbF9uKSwNCiAgICANCiAgICB0b3RhbF9sY2kgPSB0b3RhbCAtIHF0KDEgLSAoMC4wNSAvIDIpLCBhbGxfbiAtIDEpICogdG90YWxfc2UsDQogICAgb25saW5lX3RvdGFsX2xjaSA9IG9ubGluZV90b3RhbCAtIHF0KDEgLSAoMC4wNSAvIDIpLCBhbGxfbiAtIDEpICogb25saW5lX3RvdGFsX3NlLA0KICAgIHR3aXR0ZXJfdG90YWxfbGNpID0gIHR3aXR0ZXJfdG90YWwgLSBxdCgxIC0gKDAuMDUgLyAyKSwgYWxsX24gLSAxKSAqIHR3aXR0ZXJfdG90YWxfc2UsDQogICAgDQogICAgdG90YWxfdWNpID0gdG90YWwgKyBxdCgxIC0gKDAuMDUgLyAyKSwgYWxsX24gLSAxKSAqIHRvdGFsX3NlLA0KICAgIG9ubGluZV90b3RhbF91Y2kgPSBvbmxpbmVfdG90YWwgKyBxdCgxIC0gKDAuMDUgLyAyKSwgYWxsX24gLSAxKSAqIG9ubGluZV90b3RhbF9zZSwNCiAgICB0d2l0dGVyX3RvdGFsX3VjaSA9ICB0d2l0dGVyX3RvdGFsICsgcXQoMSAtICgwLjA1IC8gMiksIGFsbF9uIC0gMSkgKiB0d2l0dGVyX3RvdGFsX3NlKSU+JQ0KICBtdXRhdGUoYWNyb3NzKDI6MTcsIFwoeCkgcm91bmQoeCwgMykpKQ0KDQpjb2xuYW1lcyhtZWFuX3ZhbHVlc19maWVsZClbMV0gPC0gImNvbXBhcmlzb24iDQpjb2xuYW1lcyhtZWFuX3ZhbHVlc19maWVsZClbMl0gPC0gImZpZWxkIg0KYGBgDQoNClBsb3QgdGhlIG1lYW5zIGNvbXBhcmlzb246DQpgYGB7cn0NCm1lYW5fdmFsdWVzX2ZpZWxkJGZpZWxkIDwtIGZhY3RvcihtZWFuX3ZhbHVlc19maWVsZCRmaWVsZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHMgPSBjKCJQaHlzaWNhbCBTY2llbmNlcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTGlmZSBTY2llbmNlcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiSGVhbHRoIFNjaWVuY2VzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJTb2NpYWwgU2NpZW5jZXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkFydHMgYW5kIEh1bWFuaXRpZXMiKSkNCm1lYW5fdmFsdWVzX2ZpZWxkJGNvbXBhcmlzb24gPC0gb3JkZXJlZChtZWFuX3ZhbHVlc19maWVsZCRjb21wYXJpc29uLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVscyA9IGMoIm0iLCAidyIpKQ0KDQpzaWduaWZpY2FuY2VfdGVzdGluZyA8LSAgZmllbGRfY29tcGFyaXNvbnMNCg0Kc2lnbmlmaWNhbmNlX3Rlc3RpbmcgPC0gIHNpZ25pZmljYW5jZV90ZXN0aW5nICU+JQ0KICBmaWx0ZXIoY29tcGFyaXNvbiA9PSAidHRlc3QiKSU+JQ0KICBtdXRhdGVfYXQodmFycyhgb25saW5lX3RvdGFsYCwgYHRvdGFsYCwgYHR3aXR0ZXJfdG90YWxgKSwgLmZ1bnMgPSBsaXN0KA0KICAgIH5jYXNlX3doZW4oDQogICAgICAuIDw9IDAuMDAxIH4gJyoqKicsDQogICAgICAuIDw9IDAuMDEgfiAnKionLA0KICAgICAgLiA8PSAwLjA1IH4gJyonLA0KICAgICAgLiA8PSAwLjEgfiAnJywNCiAgICAgIC4gPiAwLjEgfiAnJw0KICAgICkpKQ0KDQpzaWduaWZpY2FuY2VfdGVzdGluZyRmaWVsZCA8LSBmYWN0b3Ioc2lnbmlmaWNhbmNlX3Rlc3RpbmckZmllbGQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxzID0gYygiQXJ0cyBhbmQgSHVtYW5pdGllcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiU29jaWFsIFNjaWVuY2VzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJIZWFsdGggU2NpZW5jZXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkxpZmUgU2NpZW5jZXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlBoeXNpY2FsIFNjaWVuY2VzIikpDQpzaWduaWZpY2FuY2VfdGVzdGluZyA8LSBzaWduaWZpY2FuY2VfdGVzdGluZyAlPiUNCiAgYXJyYW5nZShmaWVsZCkNCg0Kc2lnbmlmaWNhbmNlX3Rlc3RpbmckZ3JvdXAxIDwtICJtIg0Kc2lnbmlmaWNhbmNlX3Rlc3RpbmckZ3JvdXAyIDwtICJ3Ig0Kc2lnbmlmaWNhbmNlX3Rlc3RpbmckeCA8LSBjKDEsMiwzLDQsIDUpDQpzaWduaWZpY2FuY2VfdGVzdGluZyR4bWluIDwtIGMoMC43NSwxLjc1LDIuNzUsMy43NSwgNC43NSkNCnNpZ25pZmljYW5jZV90ZXN0aW5nJHhtYXggPC0gYygxLjI1LDIuMjUsIDMuMjUsNC4yNSwgNS4yNSkNCnNpZ25pZmljYW5jZV90ZXN0aW5nJGNvbXBhcmlzb24gPC0gIm0iDQoNCg0KYXZlcmFnZV9uZXdzIDwtIG1lYW5fdmFsdWVzX2ZpZWxkICU+JQ0KICBnZ3Bsb3QoYWVzKHg9ZmN0X3JldihmaWVsZCksIHk9dG90YWwsIGZpbGwgPSBmY3RfcmV2KGNvbXBhcmlzb24pLCBjb2xvciA9IGZjdF9yZXYoY29tcGFyaXNvbikpKSArIA0KICBnZW9tX2Jhcihwb3NpdGlvbj1wb3NpdGlvbl9kb2RnZSguNSksc3RhdD0iaWRlbnRpdHkiLCBhbHBoYT0xLCB3aWR0aCA9IDAuNSkrDQogIGdlb21fZXJyb3JiYXIoDQogICAgYWVzKHk9dG90YWwsIA0KICAgICAgICB4ID0gZmN0X3JldihmaWVsZCksDQogICAgICAgIGdyb3VwID0gZmN0X3Jldihjb21wYXJpc29uKSwNCiAgICAgICAgeW1pbiA9IHRvdGFsX2xjaSwgDQogICAgICAgIHltYXggPSB0b3RhbF91Y2kNCiAgICApLA0KICAgIHdpZHRoID0gMC4yLA0KICAgIHN0YXQ9ImlkZW50aXR5IiwNCiAgICBwb3NpdGlvbj1wb3NpdGlvbl9kb2RnZSguNSksKSsNCiAgZ3VpZGVzKGZpbGwgPSBndWlkZV9sZWdlbmQocmV2ZXJzZSA9IFRSVUUsIHRpdGxlID0gIkluZmVycmVkIGdlbmRlciIpLA0KICAgICAgICAgY29sb3IgPSBndWlkZV9sZWdlbmQocmV2ZXJzZSA9IFRSVUUsIHRpdGxlID0gIkluZmVycmVkIGdlbmRlciIpKSsNCiAgc2NhbGVfZmlsbF9tYW51YWwodmFsdWVzID0gIGMoIiNGNUM3MTAiLCAiIzYxRDA0RiIpICAsIGxhYmVscyA9IGMoIldvbWVuIiwgIk1lbiIpKSsNCiAgc2NhbGVfY29sb3JfbWFudWFsKHZhbHVlcyA9ICBjKCIjOTk3YjA2IiwgIiMzMzhhMjUiKSAgLCBsYWJlbHMgPSBjKCJXb21lbiIsICJNZW4iKSwgZ3VpZGU9Im5vbmUiKSsNCiAgZ2d0aXRsZSgiUHJpbnRlZCBuZXdzIGF0dGVudGlvbiIpKw0KICBzdGF0X3B2YWx1ZV9tYW51YWwoDQogICAgc2lnbmlmaWNhbmNlX3Rlc3RpbmcsDQogICAgeS5wb3NpdGlvbiA9IGMoMTkwLCAxOTAsIDE5MCwgMTkwLCAxOTApLA0KICAgIGxhYmVsLnNpemUgPSAzLA0KICAgIGNvb3JkLmZsaXAgPSBUUlVFLA0KICAgIHRpcC5sZW5ndGggPSAwLjAwNSwNCiAgICBsYWJlbCA9ICJ7dG90YWx9IiwNCiAgICByZW1vdmUuYnJhY2tldCA9IEZBTFNFLA0KICAgIGhpZGUubnMgPSBUUlVFDQogICkrDQogIHNjYWxlX3lfY29udGludW91cyhsaW1pdHMgPSBjKDAsIDIwMCksIGJyZWFrcyA9IHNlcSgwLCAyMDAsIGJ5ID0gNDApKSsNCiAgeWxhYigiQXZlcmFnZSBtZW50aW9ucyBvdmVyIGxpZmV0aW1lIikrDQogIHhsYWIoIkZpZWxkIikrDQogIGxhYnMoY29sb3IgPSAiSW5mZXJyZWQgZ2VuZGVyIiwNCiAgICAgICBmaWxsID0gIkluZmVycmVkIGdlbmRlciIpKw0KICB0aGVtZV9taW5pbWFsX3ZncmlkKCkrDQogIHRoZW1lKHBsb3QudGl0bGUgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDgpLA0KICAgICAgICBheGlzLnRleHQueSA9IGVsZW1lbnRfdGV4dChzaXplID0gNiksDQogICAgICAgIGF4aXMudGl0bGUueSA9IGVsZW1lbnRfdGV4dChzaXplID0gNyksDQogICAgICAgIGF4aXMudGV4dC54ID0gZWxlbWVudF90ZXh0KHNpemUgPSA2KSAsDQogICAgICAgIGF4aXMudGl0bGUueCA9IGVsZW1lbnRfdGV4dChzaXplID0gNyksDQogICAgICAgIGxlZ2VuZC50aXRsZT1lbGVtZW50X3RleHQoc2l6ZT03KSwgDQogICAgICAgIGxlZ2VuZC50ZXh0PWVsZW1lbnRfdGV4dChzaXplPTYpLA0KICAgICAgICBsZWdlbmQua2V5LnNpemUgPSB1bml0KDAuMSwgImluIikpKw0KICBjb29yZF9mbGlwKCkNCg0KYXZlcmFnZV9vbmxpbmUgPC0gbWVhbl92YWx1ZXNfZmllbGQgJT4lDQogIGdncGxvdChhZXMoeD1mY3RfcmV2KGZpZWxkKSwgeT1vbmxpbmVfdG90YWwsIGZpbGwgPSBmY3RfcmV2KGNvbXBhcmlzb24pLCBjb2xvciA9IGZjdF9yZXYoY29tcGFyaXNvbikpKSArIA0KICBnZW9tX2Jhcihwb3NpdGlvbj1wb3NpdGlvbl9kb2RnZSguNSksc3RhdD0iaWRlbnRpdHkiLCBhbHBoYT0xLCB3aWR0aCA9IDAuNSkrDQogIGdlb21fZXJyb3JiYXIoDQogICAgYWVzKHk9dG90YWwsIA0KICAgICAgICB4ID0gZmN0X3JldihmaWVsZCksDQogICAgICAgIGdyb3VwID0gZmN0X3Jldihjb21wYXJpc29uKSwNCiAgICAgICAgeW1pbiA9IG9ubGluZV90b3RhbF9sY2ksIA0KICAgICAgICB5bWF4ID0gb25saW5lX3RvdGFsX3VjaQ0KICAgICksDQogICAgd2lkdGggPSAwLjIsDQogICAgc3RhdD0iaWRlbnRpdHkiLA0KICAgIHBvc2l0aW9uPXBvc2l0aW9uX2RvZGdlKC41KSwpKw0KICBndWlkZXMoZmlsbCA9IGd1aWRlX2xlZ2VuZChyZXZlcnNlID0gVFJVRSwgdGl0bGUgPSAiSW5mZXJyZWQgZ2VuZGVyIiksDQogICAgICAgICBjb2xvciA9IGd1aWRlX2xlZ2VuZChyZXZlcnNlID0gVFJVRSwgdGl0bGUgPSAiSW5mZXJyZWQgZ2VuZGVyIikpKw0KICBzY2FsZV9maWxsX21hbnVhbCh2YWx1ZXMgPSAgYygiI0Y1QzcxMCIsICIjNjFEMDRGIikgICwgbGFiZWxzID0gYygiV29tZW4iLCAiTWVuIikpKw0KICBzY2FsZV9jb2xvcl9tYW51YWwodmFsdWVzID0gIGMoIiM5OTdiMDYiLCAiIzMzOGEyNSIpICAsIGxhYmVscyA9IGMoIldvbWVuIiwgIk1lbiIpLCBndWlkZT0ibm9uZSIpKw0KICBnZ3RpdGxlKCJPbmxpbmUgbmV3cyBhdHRlbnRpb24iKSsNCiAgc2NhbGVfeV9jb250aW51b3VzKGxpbWl0cyA9IGMoMCwgMjQwKSwgYnJlYWtzID0gc2VxKDAsIDI0MCwgYnkgPSA2MCkpKw0KICBzdGF0X3B2YWx1ZV9tYW51YWwoDQogICAgc2lnbmlmaWNhbmNlX3Rlc3RpbmcsDQogICAgeS5wb3NpdGlvbiA9IGMoMjMwLCAyMzAsIDIzMCwgMjMwLCAyMzApLA0KICAgIGxhYmVsLnNpemUgPSAzLA0KICAgIGNvb3JkLmZsaXAgPSBUUlVFLA0KICAgIHRpcC5sZW5ndGggPSAwLjAwNSwNCiAgICBsYWJlbCA9ICJ7b25saW5lX3RvdGFsfSIsDQogICkrDQogIHlsYWIoIkF2ZXJhZ2UgbWVudGlvbnMgb3ZlciBsaWZldGltZSIpKw0KICBsYWJzKGNvbG9yID0gIkluZmVycmVkIGdlbmRlciIsDQogICAgICAgZmlsbCA9ICJJbmZlcnJlZCBnZW5kZXIiKSsNCiAgdGhlbWVfbWluaW1hbF92Z3JpZCgpKw0KICB0aGVtZShwbG90LnRpdGxlID0gZWxlbWVudF90ZXh0KHNpemUgPSA4KSwNCiAgICAgICAgYXhpcy50ZXh0LnkgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDYpLA0KICAgICAgICBheGlzLnRpdGxlLnkgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDcpLA0KICAgICAgICBheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChzaXplID0gNikgLA0KICAgICAgICBheGlzLnRpdGxlLnggPSBlbGVtZW50X3RleHQoc2l6ZSA9IDcpLA0KICAgICAgICBsZWdlbmQudGl0bGU9ZWxlbWVudF90ZXh0KHNpemU9NyksIA0KICAgICAgICBsZWdlbmQudGV4dD1lbGVtZW50X3RleHQoc2l6ZT02KSwNCiAgICAgICAgbGVnZW5kLmtleS5zaXplID0gdW5pdCgwLjEsICJpbiIpKSsNCiAgY29vcmRfZmxpcCgpKw0KICB4bGFiKCJGaWVsZCIpDQoNCg0KYXZlcmFnZV90d2l0dGVyIDwtIG1lYW5fdmFsdWVzX2ZpZWxkICU+JQ0KICBnZ3Bsb3QoYWVzKHg9ZmN0X3JldihmaWVsZCksIHk9dHdpdHRlcl90b3RhbCwgZmlsbCA9IGZjdF9yZXYoY29tcGFyaXNvbiksIGNvbG9yID0gZmN0X3Jldihjb21wYXJpc29uKSkpICsgDQogIGdlb21fYmFyKHBvc2l0aW9uPXBvc2l0aW9uX2RvZGdlKC41KSxzdGF0PSJpZGVudGl0eSIsIGFscGhhPTEsIHdpZHRoID0gMC41KSsNCiAgZ2VvbV9lcnJvcmJhcigNCiAgICBhZXMoeT10b3RhbCwgDQogICAgICAgIHggPSBmY3RfcmV2KGZpZWxkKSwNCiAgICAgICAgZ3JvdXAgPSBmY3RfcmV2KGNvbXBhcmlzb24pLA0KICAgICAgICB5bWluID0gdHdpdHRlcl90b3RhbF9sY2ksIA0KICAgICAgICB5bWF4ID0gdHdpdHRlcl90b3RhbF91Y2kNCiAgICApLA0KICAgIHdpZHRoID0gMC4yLA0KICAgIHN0YXQ9ImlkZW50aXR5IiwNCiAgICBwb3NpdGlvbj1wb3NpdGlvbl9kb2RnZSguNSksKSsNCiAgZ3VpZGVzKGZpbGwgPSBndWlkZV9sZWdlbmQocmV2ZXJzZSA9IFRSVUUsIHRpdGxlID0gIkluZmVycmVkIGdlbmRlciIpLA0KICAgICAgICAgY29sb3IgPSBndWlkZV9sZWdlbmQocmV2ZXJzZSA9IFRSVUUsIHRpdGxlID0gIkluZmVycmVkIGdlbmRlciIpKSsNCiAgc2NhbGVfZmlsbF9tYW51YWwodmFsdWVzID0gIGMoIiNGNUM3MTAiLCAiIzYxRDA0RiIpICAsIGxhYmVscyA9IGMoIldvbWVuIiwgIk1lbiIpKSsNCiAgc2NhbGVfY29sb3JfbWFudWFsKHZhbHVlcyA9ICBjKCIjOTk3YjA2IiwgIiMzMzhhMjUiKSAgLCBsYWJlbHMgPSBjKCJXb21lbiIsICJNZW4iKSwgZ3VpZGU9Im5vbmUiKSsNCiAgZ2d0aXRsZSgiVHdpdHRlci9YIGF0dGVudGlvbiIpKw0KICBzdGF0X3B2YWx1ZV9tYW51YWwoDQogICAgc2lnbmlmaWNhbmNlX3Rlc3RpbmcsDQogICAgeS5wb3NpdGlvbiA9IGMoMTQ4MCwgMTQ4MCwgMTQ4MCwgMTQ4MCwgMTQ4MCksDQogICAgbGFiZWwuc2l6ZSA9IDMsDQogICAgY29vcmQuZmxpcCA9IFRSVUUsDQogICAgdGlwLmxlbmd0aCA9IDAuMDA1LA0KICAgIGxhYmVsID0gInt0d2l0dGVyX3RvdGFsfSIsDQogICAgcmVtb3ZlLmJyYWNrZXQgPSBGQUxTRSwNCiAgKSsNCiAgc2NhbGVfeV9jb250aW51b3VzKGxpbWl0cyA9IGMoMCwgMTUwMCksIGJyZWFrcyA9IHNlcSgwLCAxNTAwLCBieSA9IDM3NSkpKw0KICB5bGFiKCJBdmVyYWdlIG1lbnRpb25zIG92ZXIgbGlmZXRpbWUiKSsNCiAgbGFicyhjb2xvciA9ICJJbmZlcnJlZCBnZW5kZXIiLA0KICAgICAgIGZpbGwgPSAiSW5mZXJyZWQgZ2VuZGVyIikrDQogIHRoZW1lX21pbmltYWxfdmdyaWQoKSsNCiAgdGhlbWUocGxvdC50aXRsZSA9IGVsZW1lbnRfdGV4dChzaXplID0gOCksDQogICAgICAgIGF4aXMudGV4dC55ID0gZWxlbWVudF90ZXh0KHNpemUgPSA2KSwNCiAgICAgICAgYXhpcy50aXRsZS55ID0gZWxlbWVudF90ZXh0KHNpemUgPSA3KSwNCiAgICAgICAgYXhpcy50ZXh0LnggPSBlbGVtZW50X3RleHQoc2l6ZSA9IDYpICwNCiAgICAgICAgYXhpcy50aXRsZS54ID0gZWxlbWVudF90ZXh0KHNpemUgPSA3KSwNCiAgICAgICAgbGVnZW5kLnRpdGxlPWVsZW1lbnRfdGV4dChzaXplPTcpLCANCiAgICAgICAgbGVnZW5kLnRleHQ9ZWxlbWVudF90ZXh0KHNpemU9NiksDQogICAgICAgIGxlZ2VuZC5rZXkuc2l6ZSA9IHVuaXQoMC4xLCAiaW4iKSkrDQogIGNvb3JkX2ZsaXAoKSsNCiAgeGxhYigiRmllbGQiKQ0KYGBgDQoNCkNvbWJpbmUgdGhlc2UgcGxvdHMgaW50byBvbmUgKEZpZ3VyZSAyLCBwYW5lbCBBKToNCmBgYHtyIGZpZy53aWR0aD0xMCwgZmlnLmhlaWdodD0zfQ0KbGVnZW5kX2F2ZXJhZ2UgPC0gZ2V0X2xlZ2VuZCgNCiAgIyBjcmVhdGUgc29tZSBzcGFjZSB0byB0aGUgbGVmdCBvZiB0aGUgbGVnZW5kDQogIGF2ZXJhZ2VfbmV3cw0KKQ0KDQpjb21iaV9wbG90X2F2ZXJhZ2VzIDwtIHBsb3RfZ3JpZChhdmVyYWdlX25ld3MgKyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUobGVnZW5kLnBvc2l0aW9uPSJub25lIiwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMudGl0bGUueCA9IGVsZW1lbnRfYmxhbmsoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpcy50aXRsZS55PWVsZW1lbnRfYmxhbmsoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgcGFuZWxfYm9yZGVyKCksIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZV9vbmxpbmUgKyB0aGVtZShsZWdlbmQucG9zaXRpb249Im5vbmUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzLnRpdGxlLnggPSBlbGVtZW50X2JsYW5rKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMudGl0bGUueT1lbGVtZW50X2JsYW5rKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMudGV4dC55ID0gZWxlbWVudF9ibGFuaygpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBwYW5lbF9ib3JkZXIoKSwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmVyYWdlX3R3aXR0ZXIgKyB0aGVtZShsZWdlbmQucG9zaXRpb249Im5vbmUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpcy50aXRsZS55PWVsZW1lbnRfYmxhbmsoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMudGl0bGUueCA9IGVsZW1lbnRfYmxhbmsoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMudGV4dC55ID0gZWxlbWVudF9ibGFuaygpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBwYW5lbF9ib3JkZXIoKSwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWdlbmRfYXZlcmFnZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5jb2wgPSA0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsX3dpZHRocyA9IGMoMS4zLCAwLjksIDAuOSwgMC40KSkNCg0KY29tYmlfcGxvdF9hdmVyYWdlcw0KYGBgDQoNCg0KIyMgRmlndXJlIDJCOiBXb21lbidzIHJlcHJlc2VudGF0aW9uDQoNCkZpcnN0LCBnZXQgcmVwcmVzZW50YXRpb24gcGVyIGZpZWxkIGluIG91ciBkYXRhc2V0Og0KKDYsNzkxIHByb2Zlc3NvcnMpDQpgYGB7cn0NCnJlcHJfZmllbGRfMjAyMyA8LSBwcm9mX3BhbmVsX2ZpbHRlciAlPiUNCiAgZ3JvdXBfYnkocHJvZmlsZV9pZCklPiUNCiAgZmlsdGVyKHllYXIgPT0gbWF4KHllYXIpKSU+JQ0KICBmaWx0ZXIoIWlzLm5hKG92ZXJhbGxfYWRqX2RvbWFpbikpJT4lDQogIGdyb3VwX2J5KG92ZXJhbGxfYWRqX2RvbWFpbiwgaW5mZXJyZWRfZ2VuZGVyKSU+JQ0KICBzdW1tYXJpc2UobiA9IG4oKSklPiUNCiAgcGl2b3Rfd2lkZXIodmFsdWVzX2Zyb20gPSBuLCBuYW1lc19mcm9tID0gaW5mZXJyZWRfZ2VuZGVyKQ0KDQpyZXByX2ZpZWxkXzIwMjMkc2hhcmVfd29tZW5fZmllbGQgPC0gcmVwcl9maWVsZF8yMDIzJHcvKHJlcHJfZmllbGRfMjAyMyRtK3JlcHJfZmllbGRfMjAyMyR3KQ0KDQpgYGANCg0KIyMjIEFtb25nIHRvcCBOIHJlc2VhcmNoZXJzIA0KTm93IGdldCB0aGUgcmVwcmVzZW50YXRpb24gb2Ygd29tZW4gYW1vbmcgdGhlIHRvcCAxMCUgYW5kIDIwJSBvZiByZXNlYXJjaGVycyBpbiB0ZXJtcw0Kb2YgdG90YWwgZmFtZSBpbiB0aGVpciBmaWVsZCBpbiAyMDIzIChiYXNlZCBvbiB0aGVpciBlbnRyeSBiYXRjaCk6DQpgYGB7cn0NCiMgZmlyc3QsIGdldCB0aGUgbGF0ZXN0IHllYXIgaW4gdGhlIHBhbmVsIGZvciBlYWNoIHByb2YNCndvbWVuX2ZpZWxkXzIwMjMgPC0gcHJvZl9wYW5lbF9maWx0ZXIgJT4lDQogIGdyb3VwX2J5KHByb2ZpbGVfaWQpJT4lDQogIGZpbHRlcih5ZWFyID09IG1heCh5ZWFyKSkNCg0KIyBhbmQgbm93IHNldCB0aGUgZmluYWwgeWVhciBhcyAyMDIzLCBhc3N1bWluZyB0aGVyZSB3YXMgbm8gYXR0ZW50aW9uIGFmdGVyDQojIHdoYXRldmVyIHRoZSBsYXN0IHllYXIgaXMgaW4gdGhlIGRhdGFzZXQgKHF1aXRlIHNvbWUgcHJvZmVzc29ycyB3aXRoDQojIDAgbWVudGlvbnMgZXZlbiBpbiB0aGlzIGxhc3QgeWVhciwgc28gd2Ugd2FudCB0byBrZWVwIHRoZW0gZm9yIGNvcnJlY3QNCiMgc2hhcmVzKQ0Kd29tZW5fZmllbGRfMjAyMyR5ZWFyIDwtIDIwMjMNCg0KIyBnZXQgdGhlaXIgZGVjaWxlIGJhc2VkIG9uIHRoZWlyIHRvdGFsIHBlcmZvcm1hbmNlIHdpdGhpbiB0aGVpciBnZW5lcmFsIGZpZWxkDQp3b21lbl9maWVsZF8yMDIzIDwtIHdvbWVuX2ZpZWxkXzIwMjMgJT4lDQogIGZpbHRlcighaXMubmEob3ZlcmFsbF9hZGpfZG9tYWluKSklPiUNCiAgZHBseXI6OnNlbGVjdChwcm9maWxlX2lkLCB5ZWFyLCBpbmZlcnJlZF9nZW5kZXIsIG92ZXJhbGxfYWRqX2RvbWFpbiwgY291bnRfcHVic190b3RhbCwNCiAgICAgICAgICAgICAgICBjaXRlZF9ieV90b3RhbF9hbGwsIGFsdF9vbmxpbmVfYWxsX3RvdGFsLCBuZXdzX2FsbF90b3RhbCwgYWx0X3R3aXR0ZXJfdG90YWwpJT4lDQogIG11dGF0ZShhY3Jvc3MoY291bnRfcHVic190b3RhbDphbHRfdHdpdHRlcl90b3RhbCwgfnJlcGxhY2UoLiwgaXMubmEoLiksIDApKSklPiUNCiAgZ3JvdXBfYnkob3ZlcmFsbF9hZGpfZG9tYWluKSU+JQ0KICBtdXRhdGUoYE5ld3NgID0gbnRpbGUoLW5ld3NfYWxsX3RvdGFsLCAyMCksDQogICAgICAgICBgT25saW5lIG5ld3NgID0gbnRpbGUoLWFsdF9vbmxpbmVfYWxsX3RvdGFsLCAyMCksDQogICAgICAgICBgVHdpdHRlcmAgPSBudGlsZSgtYWx0X3R3aXR0ZXJfdG90YWwsIDIwKSkNCmBgYA0KDQpHZXQgc2hhcmVzIG9mIHdvbWVuIGFtb25nIHRvcCBuJSBzY2llbnRpc3RzIHBlciBhdHRlbnRpb24gZG9tYWluOg0KYGBge3J9DQojIHJlYXJyYW5nZSB0aGUgZGF0YXNldCB0byBnZXQgY291bnRzIG9mIHdvbWVuIGFuZCBtZW4gaW4gZWFjaCBkZWNpbGUNCiMgdGhlbiBsZWF2ZSBvbmx5IHRvcCAxMCBhbmQgMjANCnNoYXJlX3dvbWVuX2ZpZWxkXzIwMjMgPC0gd29tZW5fZmllbGRfMjAyMyAlPiUNCiAgdW5ncm91cCgpJT4lDQogIGRwbHlyOjpzZWxlY3QocHJvZmlsZV9pZCwgeWVhciwgaW5mZXJyZWRfZ2VuZGVyLCBvdmVyYWxsX2Fkal9kb21haW4sIGBOZXdzYDpgVHdpdHRlcmApJT4lDQogIHBpdm90X2xvbmdlcihgTmV3c2A6YFR3aXR0ZXJgKSU+JQ0KICBncm91cF9ieShvdmVyYWxsX2Fkal9kb21haW4sIGluZmVycmVkX2dlbmRlciwgbmFtZSwgdmFsdWUpJT4lDQogIHN1bW1hcmlzZShuID0gbigpKSU+JQ0KICBwaXZvdF93aWRlcih2YWx1ZXNfZnJvbSA9IG4sIG5hbWVzX2Zyb20gPSBpbmZlcnJlZF9nZW5kZXIpJT4lDQogIHJlcGxhY2UoaXMubmEoLiksIDApJT4lDQogIGdyb3VwX2J5KG92ZXJhbGxfYWRqX2RvbWFpbiwgbmFtZSklPiUNCiAgbXV0YXRlKG0gPSBjdW1zdW0obSksDQogICAgICAgICB3ID0gY3Vtc3VtKHcpKSU+JQ0KICBmaWx0ZXIodmFsdWUgJWluJSBjKDEsIDIpKQ0KDQpzaGFyZV93b21lbl9maWVsZF8yMDIzJHNoYXJlX3dvbWVuIDwtIHNoYXJlX3dvbWVuX2ZpZWxkXzIwMjMkdy8oc2hhcmVfd29tZW5fZmllbGRfMjAyMyRtK3NoYXJlX3dvbWVuX2ZpZWxkXzIwMjMkdykgDQpgYGANCkNvbWJpbmUgdGhlIGZpZWxkIHJlcHJlc2VudGF0aW9uIHdpdGggdGhlIGF0dGVudGlvbiByZXByZXNlbnRhdGlvbjoNCmBgYHtyfQ0KcmVwcl9maWVsZF8yMDIzJG5hbWUgPC0gIm92ZXJhbGwiDQpyZXByX2ZpZWxkXzIwMjMkdmFsdWUgPC0gMA0KDQpyZXByX2ZpZWxkXzIwMjMgPC0gcmVwcl9maWVsZF8yMDIzW2MoY29sbmFtZXMoc2hhcmVfd29tZW5fZmllbGRfMjAyMylbMTo1XSwic2hhcmVfd29tZW5fZmllbGQiKV0NCg0Kc2hhcmVfd29tZW5fZmllbGRfMjAyMyA8LSBtZXJnZShzaGFyZV93b21lbl9maWVsZF8yMDIzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXByX2ZpZWxkXzIwMjNbYygib3ZlcmFsbF9hZGpfZG9tYWluIiwgInNoYXJlX3dvbWVuX2ZpZWxkIildLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBieSA9ICJvdmVyYWxsX2Fkal9kb21haW4iKQ0KDQpzaGFyZV93b21lbl9maWVsZF8yMDIzJHNoYXJlX2RpZmYgPC0gKHNoYXJlX3dvbWVuX2ZpZWxkXzIwMjMkc2hhcmVfd29tZW4gLSBzaGFyZV93b21lbl9maWVsZF8yMDIzJHNoYXJlX3dvbWVuX2ZpZWxkKSoxMDANCg0KYGBgDQoNClBsb3QgdGhpcyBvdXQ6DQoNClRvcCA1JSBhbmQgdG9wIDEwJToNCmBgYHtyIHdhcm5pbmcgPSBGfQ0KDQpzaGFyZV93b21lbl9maWVsZF8yMDIzJG92ZXJhbGxfYWRqX2RvbWFpbiA8LSBmYWN0b3Ioc2hhcmVfd29tZW5fZmllbGRfMjAyMyRvdmVyYWxsX2Fkal9kb21haW4sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxzID0gYygiUGh5c2ljYWwgU2NpZW5jZXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkxpZmUgU2NpZW5jZXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkhlYWx0aCBTY2llbmNlcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiU29jaWFsIFNjaWVuY2VzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJBcnRzIGFuZCBIdW1hbml0aWVzIikpDQoNCnJlcHJfYXR0bl81IDwtIHNoYXJlX3dvbWVuX2ZpZWxkXzIwMjMgJT4lDQogIGZpbHRlcih2YWx1ZSA9PSAxICYgbmFtZSAlaW4lIGMoIk5ld3MiLCAiT25saW5lIG5ld3MiLCAiVHdpdHRlciIpKSU+JQ0KICBnZ3Bsb3QoYWVzKHk9c2hhcmVfZGlmZiwgeD1mY3RfcmV2KG92ZXJhbGxfYWRqX2RvbWFpbiksIGZpbGw9bmFtZSwgY29sb3I9bmFtZSkpICsgDQogIGdlb21fYmFyKHBvc2l0aW9uID0gcG9zaXRpb25fZG9kZ2UyKHJldmVyc2UgPSBUUlVFLCB3aWR0aCA9IDEuNCksIHN0YXQ9ImlkZW50aXR5Iiwgd2lkdGggPSAxLjQpKw0KICBndWlkZXMoZmlsbCA9IGd1aWRlX2xlZ2VuZChyZXZlcnNlPUZBTFNFLCB0aXRsZSA9ICJNZWFzdXJlIiksDQogICAgICAgICBjb2xvciA9IGd1aWRlX2xlZ2VuZChyZXZlcnNlPUZBTFNFLCB0aXRsZSA9ICJNZWFzdXJlIikpKw0KICBzY2FsZV9jb2xvcl9tYW51YWwobGFiZWxzID0gYygiUHJpbnRlZCBuZXdzIiwgIk9ubGluZSBuZXdzIiwgIlR3aXR0ZXIvWCIpLCB2YWx1ZXMgPSBjKCIjOGY0NzY1IiwgIiNkYTFmMTciLCAiIzNmNWY4NCIpKSsNCiAgc2NhbGVfZmlsbF9tYW51YWwobGFiZWxzID0gYygiUHJpbnRlZCBuZXdzIiwgIk9ubGluZSBuZXdzIiwgIlR3aXR0ZXIvWCIpLCB2YWx1ZXMgPSBjKCIjYmI3NjkzIiwgIiNlZjZmNmEiLCAiIzYzODhiNCIpKSsNCiAgc2NhbGVfeV9jb250aW51b3VzKGxpbWl0cyA9IGMoLTIwLCAxNSksIGJyZWFrcyA9IHNlcSgtMjAsIDE1LCBieSA9IDUpKSsNCiAgc2NhbGVfeF9kaXNjcmV0ZShsaW1pdHMgPSBjKGxldmVscyhzaGFyZV93b21lbl9maWVsZF8yMDIzJG92ZXJhbGxfYWRqX2RvbWFpbilbNV0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHMoc2hhcmVfd29tZW5fZmllbGRfMjAyMyRvdmVyYWxsX2Fkal9kb21haW4pWzRdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxzKHNoYXJlX3dvbWVuX2ZpZWxkXzIwMjMkb3ZlcmFsbF9hZGpfZG9tYWluKVszXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVscyhzaGFyZV93b21lbl9maWVsZF8yMDIzJG92ZXJhbGxfYWRqX2RvbWFpbilbMl0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHMoc2hhcmVfd29tZW5fZmllbGRfMjAyMyRvdmVyYWxsX2Fkal9kb21haW4pWzFdKSwNCiAgICAgICAgICAgICAgICAgICBsYWJlbHMgPSBjKCJBIiA9ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkIiID0gIiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQyIgPSAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJEIiA9ICIiKSkrDQogIGdlb21faGxpbmUoeWludGVyY2VwdD0wLCANCiAgICAgICAgICAgICBjb2xvciA9ICJibGFjayIsIHNpemU9MC43KSsNCiAgY29vcmRfZmxpcCgpKw0KICB4bGFiKCIiKSsNCiAgeWxhYigiVW5kZXItL292ZXJyZXByZXNlbnRhdGlvbiBvZiB3b21lbiAoaW4gJSkiKSsNCiAgbGFicyhjb2xvciA9ICJBdHRlbnRpb24gdHlwZSIsDQogICAgICAgZmlsbCA9ICJBdHRlbnRpb24gdHlwZSIpKw0KICBnZ3RpdGxlKCJUb3AgNSUgb2YgYXR0ZW50aW9uIHR5cGUiKSsNCiAgdGhlbWVfbWluaW1hbF92Z3JpZCgpKw0KICB0aGVtZShwbG90LnRpdGxlID0gZWxlbWVudF90ZXh0KHNpemUgPSA4KSwNCiAgICAgICAgYXhpcy50ZXh0LnkgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDYpLA0KICAgICAgICBheGlzLnRpdGxlLnkgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDcpLA0KICAgICAgICBheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChzaXplID0gNikgLA0KICAgICAgICBheGlzLnRpdGxlLnggPSBlbGVtZW50X3RleHQoc2l6ZSA9IDcpLA0KICAgICAgICBsZWdlbmQudGl0bGU9ZWxlbWVudF90ZXh0KHNpemU9NyksIA0KICAgICAgICBsZWdlbmQudGV4dD1lbGVtZW50X3RleHQoc2l6ZT02KSwNCiAgICAgICAgbGVnZW5kLmtleS5zaXplID0gdW5pdCgwLjEsICJpbiIpKSsNCiAgcGFuZWxfYm9yZGVyKCkNCg0KcmVwcl9hdHRuXzEwIDwtIHNoYXJlX3dvbWVuX2ZpZWxkXzIwMjMgJT4lDQogIGZpbHRlcih2YWx1ZSA9PSAyICYgbmFtZSAlaW4lIGMoIk5ld3MiLCAiT25saW5lIG5ld3MiLCAiVHdpdHRlciIpKSU+JQ0KICBnZ3Bsb3QoYWVzKHk9c2hhcmVfZGlmZiwgeD1mY3RfcmV2KG92ZXJhbGxfYWRqX2RvbWFpbiksIGZpbGw9bmFtZSwgY29sb3I9bmFtZSkpICsgDQogIGdlb21fYmFyKHBvc2l0aW9uID0gcG9zaXRpb25fZG9kZ2UyKHJldmVyc2UgPSBUUlVFLCB3aWR0aCA9IDEuNCksIHN0YXQ9ImlkZW50aXR5Iiwgd2lkdGggPSAxLjQpKw0KICBndWlkZXMoZmlsbCA9IGd1aWRlX2xlZ2VuZChyZXZlcnNlPUZBTFNFLCB0aXRsZSA9ICJNZWFzdXJlIiksDQogICAgICAgICBjb2xvciA9IGd1aWRlX2xlZ2VuZChyZXZlcnNlPUZBTFNFLCB0aXRsZSA9ICJNZWFzdXJlIikpKw0KICBzY2FsZV9jb2xvcl9tYW51YWwobGFiZWxzID0gYygiUHJpbnRlZCBuZXdzIiwgIk9ubGluZSBuZXdzIiwgIlR3aXR0ZXIvWCIpLCB2YWx1ZXMgPSBjKCIjOGY0NzY1IiwgIiNkYTFmMTciLCAiIzNmNWY4NCIpKSsNCiAgc2NhbGVfZmlsbF9tYW51YWwobGFiZWxzID0gYygiUHJpbnRlZCBuZXdzIiwgIk9ubGluZSBuZXdzIiwgIlR3aXR0ZXIvWCIpLCB2YWx1ZXMgPSBjKCIjYmI3NjkzIiwgIiNlZjZmNmEiLCAiIzYzODhiNCIpKSsNCiAgc2NhbGVfeV9jb250aW51b3VzKGxpbWl0cyA9IGMoLTIwLCAxNSksIGJyZWFrcyA9IHNlcSgtMjAsIDE1LCBieSA9IDUpKSsNCiAgc2NhbGVfeF9kaXNjcmV0ZShsaW1pdHMgPSBjKGxldmVscyhzaGFyZV93b21lbl9maWVsZF8yMDIzJG92ZXJhbGxfYWRqX2RvbWFpbilbNV0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHMoc2hhcmVfd29tZW5fZmllbGRfMjAyMyRvdmVyYWxsX2Fkal9kb21haW4pWzRdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxzKHNoYXJlX3dvbWVuX2ZpZWxkXzIwMjMkb3ZlcmFsbF9hZGpfZG9tYWluKVszXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVscyhzaGFyZV93b21lbl9maWVsZF8yMDIzJG92ZXJhbGxfYWRqX2RvbWFpbilbMl0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHMoc2hhcmVfd29tZW5fZmllbGRfMjAyMyRvdmVyYWxsX2Fkal9kb21haW4pWzFdKSwNCiAgICAgICAgICAgICAgICAgICBsYWJlbHMgPSBjKCJBIiA9ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkIiID0gIiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQyIgPSAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJEIiA9ICIiKSkrDQogIGdlb21faGxpbmUoeWludGVyY2VwdD0wLCANCiAgICAgICAgICAgICBjb2xvciA9ICJibGFjayIsIHNpemU9MC43KSsNCiAgY29vcmRfZmxpcCgpKw0KICB4bGFiKCIiKSsNCiAgeWxhYigiVW5kZXItL292ZXJyZXByZXNlbnRhdGlvbiBvZiB3b21lbiAoaW4gJSkiKSsNCiAgbGFicyhjb2xvciA9ICJBdHRlbnRpb24gdHlwZSIsDQogICAgICAgZmlsbCA9ICJBdHRlbnRpb24gdHlwZSIpKw0KICBnZ3RpdGxlKCJUb3AgMTAlIG9mIGF0dGVudGlvbiB0eXBlIikrDQogIHRoZW1lX21pbmltYWxfdmdyaWQoKSsNCiAgdGhlbWUocGxvdC50aXRsZSA9IGVsZW1lbnRfdGV4dChzaXplID0gOCksDQogICAgICAgIGF4aXMudGV4dC55ID0gZWxlbWVudF90ZXh0KHNpemUgPSA2KSwNCiAgICAgICAgYXhpcy50aXRsZS55ID0gZWxlbWVudF90ZXh0KHNpemUgPSA3KSwNCiAgICAgICAgYXhpcy50ZXh0LnggPSBlbGVtZW50X3RleHQoc2l6ZSA9IDYpICwNCiAgICAgICAgYXhpcy50aXRsZS54ID0gZWxlbWVudF90ZXh0KHNpemUgPSA3KSwNCiAgICAgICAgbGVnZW5kLnRpdGxlPWVsZW1lbnRfdGV4dChzaXplPTcpLCANCiAgICAgICAgbGVnZW5kLnRleHQ9ZWxlbWVudF90ZXh0KHNpemU9NiksDQogICAgICAgIGxlZ2VuZC5rZXkuc2l6ZSA9IHVuaXQoMC4xLCAiaW4iKSkrDQogIHBhbmVsX2JvcmRlcigpDQpgYGANCg0KIyMjIFdpdGhpbiB0b3RhbCBhdHRlbnRpb24NCg0KTm93IGdldCB0aGUgc2hhcmVzIG9mIGF0dGVudGlvbiBnaXZlbiB0byB3b21lbiBjb21wYXJlZCB0byB0aGVpciBzaGFyZSBpbiB0aGUNCmZpZWxkOg0KYGBge3J9DQojIGZpcnN0LCBnZXQgdGhlIGxhdGVzdCB5ZWFyIGluIHRoZSBwYW5lbCBmb3IgZWFjaCBwcm9mDQp3b21lbl9maWVsZF8yMDIzIDwtIHByb2ZfcGFuZWxfZmlsdGVyICU+JQ0KICBncm91cF9ieShwcm9maWxlX2lkKSU+JQ0KICBmaWx0ZXIoeWVhciA9PSBtYXgoeWVhcikpDQoNCiMgYW5kIG5vdyBzZXQgdGhlIGZpbmFsIHllYXIgYXMgMjAyMywgYXNzdW1pbmcgdGhlcmUgd2FzIG5vIGF0dGVudGlvbiBhZnRlcg0KIyB3aGF0ZXZlciB0aGUgbGFzdCB5ZWFyIGlzIGluIHRoZSBkYXRhc2V0IChxdWl0ZSBzb21lIHByb2Zlc3NvcnMgd2l0aA0KIyAwIG1lbnRpb25zIGV2ZW4gaW4gdGhpcyBsYXN0IHllYXIsIHNvIHdlIHdhbnQgdG8ga2VlcCB0aGVtIGZvciBjb3JyZWN0DQojIHNoYXJlcykNCndvbWVuX2ZpZWxkXzIwMjMkeWVhciA8LSAyMDIzDQoNCiMgZ2V0IHRoZWlyIGRlY2lsZSBiYXNlZCBvbiB0aGVpciB0b3RhbCBwZXJmb3JtYW5jZSB3aXRoaW4gdGhlaXIgZW50cnkgYmF0Y2gNCndvbWVuX2ZpZWxkXzIwMjNfYXR0bl9zaGFyZSA8LSB3b21lbl9maWVsZF8yMDIzICU+JQ0KICBmaWx0ZXIoIWlzLm5hKG92ZXJhbGxfYWRqX2RvbWFpbikpJT4lDQogIGRwbHlyOjpzZWxlY3QocHJvZmlsZV9pZCwgeWVhciwgaW5mZXJyZWRfZ2VuZGVyLCBvdmVyYWxsX2Fkal9kb21haW4sIGNvdW50X3B1YnNfdG90YWwsDQogICAgICAgICAgICAgICAgY2l0ZWRfYnlfdG90YWxfYWxsLCBhbHRfb25saW5lX2FsbF90b3RhbCwgbmV3c19hbGxfdG90YWwsIGFsdF90d2l0dGVyX3RvdGFsKSU+JQ0KICBtdXRhdGUoYWNyb3NzKGNvdW50X3B1YnNfdG90YWw6YWx0X3R3aXR0ZXJfdG90YWwsIH5yZXBsYWNlKC4sIGlzLm5hKC4pLCAwKSkpJT4lDQogIGdyb3VwX2J5KG92ZXJhbGxfYWRqX2RvbWFpbiklPiUNCiAgc3VtbWFyaXNlKA0KICAgIHB1Yl93ID0gc3VtKGNvdW50X3B1YnNfdG90YWxbaW5mZXJyZWRfZ2VuZGVyID09ICJ3Il0pLA0KICAgIGNpdF93ID0gc3VtKGNpdGVkX2J5X3RvdGFsX2FsbFtpbmZlcnJlZF9nZW5kZXIgPT0gInciXSksIA0KICAgIG9ubGluZV93ID0gc3VtKGFsdF9vbmxpbmVfYWxsX3RvdGFsW2luZmVycmVkX2dlbmRlciA9PSAidyJdKSwNCiAgICBuZXdzX3cgPSBzdW0obmV3c19hbGxfdG90YWxbaW5mZXJyZWRfZ2VuZGVyID09ICJ3Il0pLA0KICAgIHR3aXR0ZXJfdyA9IHN1bShhbHRfdHdpdHRlcl90b3RhbFtpbmZlcnJlZF9nZW5kZXIgPT0gInciXSksDQogICAgcHViID0gc3VtKGNvdW50X3B1YnNfdG90YWwpLA0KICAgIGNpdCA9IHN1bShjaXRlZF9ieV90b3RhbF9hbGwpLCANCiAgICBvbmxpbmUgPSBzdW0oYWx0X29ubGluZV9hbGxfdG90YWwpLA0KICAgIG5ld3MgPSBzdW0obmV3c19hbGxfdG90YWwpLA0KICAgIHR3aXR0ZXIgPSBzdW0oYWx0X3R3aXR0ZXJfdG90YWwpDQogICklPiUNCiAgbXV0YXRlKA0KICAgIGBQdWJsaWNhdGlvbnNgID0gcHViX3cvcHViLA0KICAgIGBDaXRhdGlvbnNgID0gY2l0X3cvY2l0LCAgICANCiAgICBgT25saW5lIG5ld3NgID0gb25saW5lX3cvb25saW5lLA0KICAgIGBOZXdzYCA9IG5ld3Nfdy9uZXdzLA0KICAgIGBUd2l0dGVyYCA9IHR3aXR0ZXJfdy90d2l0dGVyKSU+JQ0KICBkcGx5cjo6c2VsZWN0KG92ZXJhbGxfYWRqX2RvbWFpbiwgYFB1YmxpY2F0aW9uc2A6YFR3aXR0ZXJgKSU+JQ0KICBwaXZvdF9sb25nZXIoIW92ZXJhbGxfYWRqX2RvbWFpbiwgbmFtZXNfdG8gPSAibmFtZSIsIHZhbHVlc190byA9ICJzaGFyZV93b21lbiIpDQpgYGANCkNvbWJpbmUgdGhlIGZpZWxkIHJlcHJlc2VudGF0aW9uIHdpdGggdGhlIGF0dGVudGlvbiByZXByZXNlbnRhdGlvbjoNCmBgYHtyfQ0Kc2hhcmVfd29tZW5fZmllbGRfMjAyM19hdHRuX3NoYXJlIDwtIG1lcmdlKHdvbWVuX2ZpZWxkXzIwMjNfYXR0bl9zaGFyZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXByX2ZpZWxkXzIwMjNbYygib3ZlcmFsbF9hZGpfZG9tYWluIiwgInNoYXJlX3dvbWVuX2ZpZWxkIildLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5ID0gIm92ZXJhbGxfYWRqX2RvbWFpbiIpDQoNCnNoYXJlX3dvbWVuX2ZpZWxkXzIwMjNfYXR0bl9zaGFyZSRzaGFyZV9kaWZmIDwtIChzaGFyZV93b21lbl9maWVsZF8yMDIzX2F0dG5fc2hhcmUkc2hhcmVfd29tZW4gLSBzaGFyZV93b21lbl9maWVsZF8yMDIzX2F0dG5fc2hhcmUkc2hhcmVfd29tZW5fZmllbGQpKjEwMA0KYGBgDQoNClBsb3QgdGhpcyBvdXQ6DQpgYGB7ciB3YXJuaW5nID0gRn0NCnNoYXJlX3dvbWVuX2ZpZWxkXzIwMjNfYXR0bl9zaGFyZSRvdmVyYWxsX2Fkal9kb21haW4gPC0gZmFjdG9yKHNoYXJlX3dvbWVuX2ZpZWxkXzIwMjNfYXR0bl9zaGFyZSRvdmVyYWxsX2Fkal9kb21haW4sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHMgPSBjKCJQaHlzaWNhbCBTY2llbmNlcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJMaWZlIFNjaWVuY2VzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkhlYWx0aCBTY2llbmNlcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJTb2NpYWwgU2NpZW5jZXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQXJ0cyBhbmQgSHVtYW5pdGllcyIpKQ0KDQpyZXByX2F0dG5fc2hhcmUgPC0gc2hhcmVfd29tZW5fZmllbGRfMjAyM19hdHRuX3NoYXJlICU+JQ0KICBmaWx0ZXIobmFtZSAlaW4lIGMoIk5ld3MiLCAiT25saW5lIG5ld3MiLCAiVHdpdHRlciIpKSU+JQ0KICBnZ3Bsb3QoYWVzKHk9c2hhcmVfZGlmZiwgeD1mY3RfcmV2KG92ZXJhbGxfYWRqX2RvbWFpbiksIGZpbGw9bmFtZSwgY29sb3I9bmFtZSkpICsgDQogIGdlb21fYmFyKHBvc2l0aW9uID0gcG9zaXRpb25fZG9kZ2UyKHJldmVyc2UgPSBUUlVFLCB3aWR0aCA9IDEuNCksIHN0YXQ9ImlkZW50aXR5Iiwgd2lkdGggPSAxLjQpKw0KICBndWlkZXMoZmlsbCA9IGd1aWRlX2xlZ2VuZChyZXZlcnNlPUZBTFNFLCB0aXRsZSA9ICJBdHRlbnRpb24gdHlwZSIpLA0KICAgICAgICAgY29sb3IgPSBndWlkZV9sZWdlbmQocmV2ZXJzZT1GQUxTRSwgdGl0bGUgPSAiQXR0ZW50aW9uIHR5cGUiKSkrDQogIHNjYWxlX2NvbG9yX21hbnVhbChsYWJlbHMgPSBjKCJQcmludGVkIG5ld3MiLCAiT25saW5lIG5ld3MiLCAiVHdpdHRlci9YIiksIHZhbHVlcyA9IGMoIiM4ZjQ3NjUiLCAiI2RhMWYxNyIsICIjM2Y1Zjg0IikpKw0KICBzY2FsZV9maWxsX21hbnVhbChsYWJlbHMgPSBjKCJQcmludGVkIG5ld3MiLCAiT25saW5lIG5ld3MiLCAiVHdpdHRlci9YIiksIHZhbHVlcyA9IGMoIiNiYjc2OTMiLCAiI2VmNmY2YSIsICIjNjM4OGI0IikpKw0KICBzY2FsZV95X2NvbnRpbnVvdXMobGltaXRzID0gYygtMjAsIDE1KSwgYnJlYWtzID0gc2VxKC0yMCwgMTUsIGJ5ID0gNSkpKw0KICBzY2FsZV94X2Rpc2NyZXRlKGxpbWl0cyA9IGMobGV2ZWxzKHNoYXJlX3dvbWVuX2ZpZWxkXzIwMjMkb3ZlcmFsbF9hZGpfZG9tYWluKVs1XSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJBIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVscyhzaGFyZV93b21lbl9maWVsZF8yMDIzJG92ZXJhbGxfYWRqX2RvbWFpbilbNF0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHMoc2hhcmVfd29tZW5fZmllbGRfMjAyMyRvdmVyYWxsX2Fkal9kb21haW4pWzNdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxzKHNoYXJlX3dvbWVuX2ZpZWxkXzIwMjMkb3ZlcmFsbF9hZGpfZG9tYWluKVsyXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJEIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVscyhzaGFyZV93b21lbl9maWVsZF8yMDIzJG92ZXJhbGxfYWRqX2RvbWFpbilbMV0pLA0KICAgICAgICAgICAgICAgICAgIGxhYmVscyA9IGMoIkEiID0gIiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQiIgPSAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDIiA9ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkQiID0gIiIpKSsNCiAgZ2VvbV9obGluZSh5aW50ZXJjZXB0PTAsIA0KICAgICAgICAgICAgIGNvbG9yID0gImJsYWNrIiwgc2l6ZT0wLjcpKw0KICBjb29yZF9mbGlwKCkrDQogIHhsYWIoIiIpKw0KICB5bGFiKCJVbmRlci0vb3ZlcnJlcHJlc2VudGF0aW9uIG9mIHdvbWVuIChpbiAlKSIpKw0KICBsYWJzKGNvbG9yID0gIkF0dGVudGlvbiB0eXBlIiwNCiAgICAgICBmaWxsID0gIkF0dGVudGlvbiB0eXBlIikrDQogIGdndGl0bGUoIlRvdGFsIGF0dGVudGlvbiIpKw0KICB0aGVtZV9taW5pbWFsX3ZncmlkKCkrDQogIHRoZW1lKHBsb3QudGl0bGUgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDgpLA0KICAgICAgICBheGlzLnRleHQueSA9IGVsZW1lbnRfdGV4dChzaXplID0gNiksDQogICAgICAgIGF4aXMudGl0bGUueSA9IGVsZW1lbnRfdGV4dChzaXplID0gNyksDQogICAgICAgIGF4aXMudGV4dC54ID0gZWxlbWVudF90ZXh0KHNpemUgPSA2KSAsDQogICAgICAgIGF4aXMudGl0bGUueCA9IGVsZW1lbnRfdGV4dChzaXplID0gNyksDQogICAgICAgIGxlZ2VuZC50aXRsZT1lbGVtZW50X3RleHQoc2l6ZT03KSwgDQogICAgICAgIGxlZ2VuZC50ZXh0PWVsZW1lbnRfdGV4dChzaXplPTYpLA0KICAgICAgICBsZWdlbmQua2V5LnNpemUgPSB1bml0KDAuMSwgImluIikpKw0KICBwYW5lbF9ib3JkZXIoKQ0KYGBgDQoNCkNvbWJpbmUgdGhlIHBsb3RzIGZvciBGaWd1cmUgMSwgcGFuZWwgQjoNCmBgYHtyIGZpZy53aWR0aD0xMCwgZmlnLmhlaWdodD00fQ0KbGVnZW5kX3NoYXJlIDwtIGdldF9sZWdlbmQoDQogIHJlcHJfYXR0bl9zaGFyZQ0KKQ0KDQoNCmNvbWJpX3Bsb3QgPC0gcGxvdF9ncmlkKHJlcHJfYXR0bl9zaGFyZSArIHRoZW1lKGxlZ2VuZC5wb3NpdGlvbj0ibm9uZSIsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpcy50aXRsZS54ID0gZWxlbWVudF9ibGFuaygpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpcy50aXRsZS55PWVsZW1lbnRfYmxhbmsoKSksIA0KICAgICAgICAgICAgICAgICAgICAgICAgcmVwcl9hdHRuXzUgKyB0aGVtZShsZWdlbmQucG9zaXRpb249Im5vbmUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzLnRpdGxlLnggPSBlbGVtZW50X2JsYW5rKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMudGl0bGUueT1lbGVtZW50X2JsYW5rKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMudGV4dC55ID0gZWxlbWVudF9ibGFuaygpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcHJfYXR0bl8xMCArIHRoZW1lKGxlZ2VuZC5wb3NpdGlvbj0ibm9uZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzLnRpdGxlLnk9ZWxlbWVudF9ibGFuaygpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpcy50aXRsZS54ID0gZWxlbWVudF9ibGFuaygpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpcy50ZXh0LnkgPSBlbGVtZW50X2JsYW5rKCkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kX3NoYXJlLA0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIG5jb2wgPSA0LA0KICAgICAgICAgICAgICAgICAgICAgICAgcmVsX3dpZHRocyA9IGMoMS4zLCAwLjksIDAuOSwgMC40KSkNCg0KY29tYmlfcGxvdA0KDQpgYGANCg0KUHJpbnQgb3V0IEZpZ3VyZSAxIGluIHRoZSBtYWluIHRleHQuDQpgYGB7ciBmaWcud2lkdGg9IDExLCBmaWcuaGVpZ2h0ID0gOCwgd2FybmluZyA9IEYsIG1lc3NhZ2UgPSBGfQ0KDQpjb21iaV9wbG90XzIgPC0gcGxvdF9ncmlkKA0KICBjb21iaV9wbG90X2F2ZXJhZ2VzLA0KICBjb21iaV9wbG90LA0KICBsYWJlbHMgPSBjKCJBIiwiQiIpLA0KICBsYWJlbF9zaXplID0gMTAsDQogIG5jb2wgPSAxLA0KICBucm93ID0gMiwNCiAgcmVsLmhlaWdodHMgPSBjKDEsIDEpLA0KICBhbGlnbiA9ICd2JywNCiAgYXhpcyA9ICdsJykNCg0KY29tYmlfcGxvdF8yDQoNCmdnc2F2ZTIoDQogIGZpbGVuYW1lID0gInJlc3VsdHMvbWFpbi9GaWd1cmVfMi5wbmciLA0KICBwbG90ID0gY29tYmlfcGxvdF8yLA0KICB3aWR0aCA9IDcsDQogIGhlaWdodCA9IDQuNSwNCiAgdW5pdHMgPSBjKCJpbiIpLA0KICBkcGkgPSA5MDAsDQogIGJnID0gIndoaXRlIg0KKQ0KDQojIHNhdmUgYSBoaWdoLXJlcyBwdWJsaWNhdGlvbiBmaWd1cmUNCmdnc2F2ZTIoDQogIGZpbGVuYW1lID0gInJlc3VsdHMvaGlnaF9yZXNfZmlndXJlcy9GaWd1cmVfMi50aWZmIiwNCiAgcGxvdCA9IGNvbWJpX3Bsb3RfMiwNCiAgd2lkdGggPSA3LA0KICBoZWlnaHQgPSA0LjUsDQogIHVuaXRzID0gYygiaW4iKSwNCiAgZHBpID0gOTAwLA0KICBiZyA9ICJ3aGl0ZSINCikNCg0KYGBgDQoNCg0KIyBGaWd1cmUgMjogUmVncmVzc2lvbiBtb2RlbHMNCg0KU2V0IHRoZSBnZW5kZXIgaW5kaWNhdG9yIHRvIGEgZmFjdG9yLCBhcyB3ZWxsIGFzIHNvbWUgb3RoZXIgdmFyaWFibGVzIG9mIGludGVyZXN0Og0KYGBge3J9DQpwcm9mX3BhbmVsX2ZpbHRlciRpbmZlcnJlZF9nZW5kZXIgPC0gYXMuZmFjdG9yKHByb2ZfcGFuZWxfZmlsdGVyJGluZmVycmVkX2dlbmRlcikNCnByb2ZfcGFuZWxfZmlsdGVyJGluc3RpdHV0aW9uX2R1dGNoX3RvdGFsX25hcmNpcyA8LSBhcy5mYWN0b3IocHJvZl9wYW5lbF9maWx0ZXIkaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzKQ0KYGBgDQoNClNlZSAiaGVscGVyX2Z1bmN0aW9ucy5SIiBmb3IgZGV0YWlscyBvbiB0aGUgZnVuY3Rpb24gd2UgdXNlIHRvIGZpdCB0aGUgbW9kZWxzLg0KDQpBbGwgb2Ygb3VyIG1vZGVscyBjb250cm9sIGZvcjoNCi0gdG90YWwgcHVibGljYXRpb25zIHB1Ymxpc2hlZCB1cCB0byB0aGUgbGFzdCBwZXJpb2QNCi0gYXZlcmFnZSBTSlIgaW1wYWN0IGZhY3RvciBvZiBwdWJsaWNhdGlvbnMgcHVibGlzaGVkIHVwIHRvIHRoZSBsYXN0IHBlcmlvZA0KLSBzaGFyZSBvZiBwdWJsaWNhdGlvbnMgb24gd2hpY2ggdGhlIHByb2Zlc3NvciBpcyBmaXJzdC9zaW5nbGUgYXV0aG9yDQotIHRvdGFsIGNpdGF0aW9ucyByZWNlaXZlZCB1cCB0byB0aGUgbGFzdCBwZXJpb2QNCi0gdG90YWwgb25saW5lIGF0dGVudGlvbiByZWNlaXZlZCB1cCB0byAgdGhlIGxhc3QgcGVyaW9kDQotIHRvdGFsIHR3aXR0ZXIgYXR0ZW50aW9uIHJlY2VpdmVkIHVwIHRvIHRoZSBsYXN0IHBlcmlvZA0KLSB0b3RhbCBjaXRhdGlvbnMgcmVjZWl2ZWQgYnkgYWxsIGNvYXV0aG9ycyB1cCB0byB0aGUgbGFzdCBwZXJpb2QNCi0gcHJpbnRlZCBuZXdzL29ubGluZSBuZXdzLyBUd2l0dGVyL1ggYXR0ZW50aW9uIHJlY2VpdmVkIGJ5IGFsbCBjb2F1dGhvcnMgdXAgdG8gdGhlIGxhc3QgcGVyaW9kIChkZXBlbmRpbmcgb24gdGhlIGRlcC4gdmFyLikNCi0gaW5zdGl0dXRpb24gY29udHJvbHMNCi0geWVhciBjb250cm9scw0KDQpJbmRpdmlkdWFsIGNsdXN0ZXJlZCBTRS4gTW9kZWxzIHJhbiBwZXIgZWFjaCBmaWVsZCBzZXBhcmF0ZWx5LiANCldlIGxvZy10cmFuc2Zvcm0gcmVsZXZhbnQgY291bnQgdmFyaWFibGVzLg0KDQpUaGlzIGZ1bmN0aW9uIHJldHVybnMgYSBsaXN0IGNvbnRhaW5pbmcgdGhlIG1vZGVsIGNvZWZmaWNpZW50cy4NCg0KV2UgdGhlbiB1c2UgdGhpcyBvdXRwdXQgdG8gcGxvdCBvdXIgcmVzdWx0cyBhbmQgb3V0cHV0IHRoZSBmaW5hbCBtb2RlbA0KdGFibGVzLg0KDQpOZXdzIGF0dGVudGlvbiBtb2RlbHM6DQpgYGB7cn0NCm5ld3NfZm9ybXVsYV9tYWluX21vZGVsIDwtICJsb2cobmV3c19hbGwrMSkgfiBpbmZlcnJlZF9nZW5kZXIgKyB5ZWFyc19zaW5jZV9maXJzdF9wdWIgKyBhcy5mYWN0b3IoeWVhcikgKyBsb2coY291bnRfcHVic190b3RhbF9sKzEpICsgbG9nKGNpdGVkX2J5X3RvdGFsX2FsbF9sKzEpICsgbG9nKGNvYV90b3RfY2l0ZWRfYnlfdG90YWxfbCsxKSArIGxvZyhjb2Ffb25saW5lX2NvbWJpX3RvdGFsX2wrMSkgKyBsb2coYWx0X29ubGluZV9hbGxfdG90YWxfbCsxKSArIGxvZyhhbHRfdHdpdHRlcl90b3RhbF9sKzEpICsgYXZnX3Nqcl90b3RhbF9sICsgc2hhcmVfZmlyc3RfYXVfdG90YWxfbCArIGluc3RpdHV0aW9uX2R1dGNoX3RvdGFsX25hcmNpcyINCg0KDQpuZXdzX21vZGVsX29sc19sb2cgPC0gbG1fZml0dGVyX2NsX3JvYnVzdF9zY29wdXMocGFuZWxfZGF0YXNldCA9IHByb2ZfcGFuZWxfZmlsdGVyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtX2Zvcm11bGEgPSBuZXdzX2Zvcm11bGFfbWFpbl9tb2RlbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyX2N1dG9mZl91cHBlciA9IDIwMjMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWVhcl9jdXRvZmZfbG93ZXIgPSAyMDEyKQ0KDQpgYGANCg0KT25saW5lIG5ld3MgYXR0ZW50aW9uIG1vZGVsczoNCmBgYHtyfQ0Kb25saW5lX25ld3NfZm9ybXVsYV9tYWluX21vZGVsIDwtICJsb2coYWx0X29ubGluZV9hbGwrMSkgfiBpbmZlcnJlZF9nZW5kZXIgKyB5ZWFyc19zaW5jZV9maXJzdF9wdWIgKyBhcy5mYWN0b3IoeWVhcikgKyBsb2coY291bnRfcHVic190b3RhbF9sKzEpICsgbG9nKGNpdGVkX2J5X3RvdGFsX2FsbF9sKzEpICsgbG9nKGNvYV90b3RfY2l0ZWRfYnlfdG90YWxfbCsxKSArIGxvZyhjb2Ffb25saW5lX2NvbWJpX3RvdGFsX2wrMSkgKyBsb2cobmV3c19hbGxfdG90YWxfbCsxKSArIGxvZyhhbHRfdHdpdHRlcl90b3RhbF9sKzEpICsgYXZnX3Nqcl90b3RhbF9sICsgc2hhcmVfZmlyc3RfYXVfdG90YWxfbCArIGluc3RpdHV0aW9uX2R1dGNoX3RvdGFsX25hcmNpcyINCg0KDQpvbmxpbmVfbmV3c19tb2RlbF9vbHNfbG9nIDwtIGxtX2ZpdHRlcl9jbF9yb2J1c3Rfc2NvcHVzKHBhbmVsX2RhdGFzZXQgPSBwcm9mX3BhbmVsX2ZpbHRlciwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG1fZm9ybXVsYSA9IG9ubGluZV9uZXdzX2Zvcm11bGFfbWFpbl9tb2RlbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWVhcl9jdXRvZmZfdXBwZXIgPSAyMDIzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyX2N1dG9mZl9sb3dlciA9IDIwMTIpDQpgYGANClR3aXR0ZXIvWCBhdHRlbnRpb24gbW9kZWxzOg0KYGBge3J9DQp0d2l0dGVyX2Zvcm11bGFfbWFpbl9tb2RlbCA8LSAibG9nKGFsdF90d2l0dGVyKzEpIH4gaW5mZXJyZWRfZ2VuZGVyICsgeWVhcnNfc2luY2VfZmlyc3RfcHViICsgYXMuZmFjdG9yKHllYXIpICsgbG9nKGNvdW50X3B1YnNfdG90YWxfbCsxKSArIGxvZyhjaXRlZF9ieV90b3RhbF9hbGxfbCsxKSArIGxvZyhjb2FfdG90X2NpdGVkX2J5X3RvdGFsX2wrMSkgKyBsb2coY29hX29ubGluZV9jb21iaV90b3RhbF9sKzEpICsgbG9nKG5ld3NfYWxsX3RvdGFsX2wrMSkgKyBsb2coYWx0X29ubGluZV9hbGxfdG90YWxfbCsxKSArIGF2Z19zanJfdG90YWxfbCArIHNoYXJlX2ZpcnN0X2F1X3RvdGFsX2wgKyBpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXMiDQoNCnR3aXR0ZXJfbW9kZWxfb2xzX2xvZyAgPC0gbG1fZml0dGVyX2NsX3JvYnVzdF9zY29wdXMocGFuZWxfZGF0YXNldCA9IHByb2ZfcGFuZWxfZmlsdGVyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbV9mb3JtdWxhID0gdHdpdHRlcl9mb3JtdWxhX21haW5fbW9kZWwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXJfY3V0b2ZmX3VwcGVyID0gMjAyMywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWVhcl9jdXRvZmZfbG93ZXIgPSAyMDEyKQ0KYGBgDQojIyBGaWd1cmUgMkE6IGdlbmRlciBkaWZmZXJlbmNlcw0KDQpQbG90IGFsbCB0aGUgZ2VuZGVyIGRpZmZlcmVuY2VzOg0KYGBge3J9DQojIGdldCB0aGUgZXhwb25lbnRpYXRlZCBtb2RlbCBlc3RpbWF0ZXMgZm9yIGdlbmRlcg0KZ2VuZGVyX2VzdGltYXRlczEgPC0gbmV3c19tb2RlbF9vbHNfbG9nW1sxXV0lPiUNCiAgZmlsdGVyKHRlcm0gPT0gImluZmVycmVkX2dlbmRlcnciKQ0KZ2VuZGVyX2VzdGltYXRlczEkbW9kZWwgPC0gIlByaW50ZWQgbmV3cyINCmdlbmRlcl9lc3RpbWF0ZXMyIDwtIG9ubGluZV9uZXdzX21vZGVsX29sc19sb2dbWzFdXSU+JQ0KICBmaWx0ZXIodGVybSA9PSAiaW5mZXJyZWRfZ2VuZGVydyIpDQpnZW5kZXJfZXN0aW1hdGVzMiRtb2RlbCA8LSAiT25saW5lIG5ld3MiDQpnZW5kZXJfZXN0aW1hdGVzMyA8LSB0d2l0dGVyX21vZGVsX29sc19sb2dbWzFdXSU+JQ0KICBmaWx0ZXIodGVybSA9PSAiaW5mZXJyZWRfZ2VuZGVydyIpDQpnZW5kZXJfZXN0aW1hdGVzMyRtb2RlbCA8LSAiVHdpdHRlci9YIg0KDQpnZW5kZXJfZXN0aW1hdGVzIDwtIHJiaW5kKGdlbmRlcl9lc3RpbWF0ZXMxLA0KICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5kZXJfZXN0aW1hdGVzMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZGVyX2VzdGltYXRlczMpDQoNCmdlbmRlcl9lc3RpbWF0ZXMkbW9kZWwgPC0gZmFjdG9yKGdlbmRlcl9lc3RpbWF0ZXMkbW9kZWwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHMgPSBjKCJQcmludGVkIG5ld3MiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiT25saW5lIG5ld3MiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVHdpdHRlci9YIikpDQoNCmdlbmRlcl9lc3RpbWF0ZXMkc3RhcnMgPC0gaWZlbHNlKGdlbmRlcl9lc3RpbWF0ZXMkc3RhcnMgPT0gIi4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5kZXJfZXN0aW1hdGVzJHN0YXJzKQ0KDQojIGV4cG9uZW50aWF0ZSB0aGUgY29lZmZpY2llbnMNCmdlbmRlcl9lc3RpbWF0ZXMkRXN0aW1hdGVfZXhwIDwtIGV4cChnZW5kZXJfZXN0aW1hdGVzJEVzdGltYXRlKQ0KZ2VuZGVyX2VzdGltYXRlcyR1cHBlcl9jaV9leHAgPC0gZXhwKGdlbmRlcl9lc3RpbWF0ZXMkdXBwZXJfY2kpDQpnZW5kZXJfZXN0aW1hdGVzJGxvd2VyX2NpX2V4cCA8LSBleHAoZ2VuZGVyX2VzdGltYXRlcyRsb3dlcl9jaSkNCg0KKGFsbF9nZW5kZXJfcGxvdCA8LSBnZW5kZXJfZXN0aW1hdGVzICU+JQ0KICAgIGdncGxvdChhZXMoeCA9IGZjdF9yZXYoZmllbGQpLA0KICAgICAgICAgICAgICAgeSA9IEVzdGltYXRlX2V4cCwNCiAgICAgICAgICAgICAgIHltaW4gPSB1cHBlcl9jaV9leHAsDQogICAgICAgICAgICAgICB5bWF4ID0gbG93ZXJfY2lfZXhwLA0KICAgICAgICAgICAgICAgY29sb3IgPSBmaWVsZCkpICsNCiAgICBnZW9tX3BvaW50cmFuZ2UocG9zaXRpb24gPSBwb3NpdGlvbl9kb2RnZSh3aWR0aCA9IDAuNSksDQogICAgICAgICAgICAgICAgICAgIHNpemUgPSAwLjUsIGZhdHRlbiA9IDIuNSkgKw0KICAgIGdlb21fdGV4dChkYXRhID0gZ2VuZGVyX2VzdGltYXRlcywgYWVzKHggPSBmY3RfcmV2KGZpZWxkKSwgeSA9IEVzdGltYXRlX2V4cCwgbGFiZWwgPSBzdGFycyksIGhqdXN0ID0gLTAuOCwgdmp1c3QgPSAwLjMpKw0KICAgIHNjYWxlX3lfY29udGludW91cyhsaW1pdHMgPSBjKDAuNSwgMS41KSwgYnJlYWtzID0gc2VxKDAuNSwgMS41LCBieSA9IDAuMjUpKSsNCiAgICBnZW9tX2hsaW5lKHlpbnRlcmNlcHQgPSAxLCBsaW5ldHlwZT0iZGFzaGVkIikrDQogICAgc2NhbGVfeF9kaXNjcmV0ZShsYWJlbHM9YygiYXJ0cyIgPSAiQXJ0cyBhbmQgSHVtYW5pdGllcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVhbHRoIiA9ICJIZWFsdGggc2NpZW5jZXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNvY19zY2kiID0gIlNvY2lhbCBzY2llbmNlcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibGlmZSIgPSAiTGlmZSBzY2llbmNlcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGh5cyIgPSAiUGh5c2ljYWwgc2NpZW5jZXMiKSkrDQogICAgeWxhYigiUmF0aW8gb2YgbWVhbiBtZW50aW9ucyBmb3Igd29tZW4gY29tcGFyZWQgdG8gbWVuIikrDQogICAgc2NhbGVfY29sb3JfbWFudWFsKHZhbHVlcyA9ICBjKCIjMUY3OEI0IiwgIiMzM0EwMkMiLCAiI0ZGN0YwMCIsICIjNkEzRDlBIiwgIiNCMTU5MjgiKSkrDQogICAgdGhlbWVfbWluaW1hbF9oZ3JpZCgpKw0KICAgIGNvb3JkX2ZsaXAoKSsNCiAgICBmYWNldF93cmFwKCB+IG1vZGVsLCBuY29sID0gMykrDQogICAgdGhlbWUocGxvdC50aXRsZSA9IGVsZW1lbnRfdGV4dChzaXplID0gOCksDQogICAgICAgICAgYXhpcy50ZXh0LnkgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDYpLA0KICAgICAgICAgIGF4aXMudGl0bGUueSA9IGVsZW1lbnRfYmxhbmsoKSwNCiAgICAgICAgICBheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChzaXplID0gNiwgYW5nbGUgPSAzMCwgaGp1c3QgPSAwLjkpICwNCiAgICAgICAgICBheGlzLnRpdGxlLnggPSBlbGVtZW50X3RleHQoc2l6ZSA9IDcpLA0KICAgICAgICAgIHN0cmlwLnRleHQueD1lbGVtZW50X3RleHQoZmFjZT0iYm9sZCIsIHNpemUgPSA4KSwNCiAgICAgICAgICBsZWdlbmQucG9zaXRpb249Im5vbmUiKSsNCiAgICBwYW5lbF9ib3JkZXIoKSkNCmBgYA0KDQoNCiMjIEZpZ3VyZSAyQjogT3RoZXIgY29lZmZpY2llbnRzDQoNCkNvbWJpbmUgdGhpcyBhbGwgdG8gcGxvdCB0aGUgY29lZmZpY2llbnRzIGluIG9uZSBwbG90Lg0KDQpGaXJzdCwgcHJlcGFyZSB0aGUgZGF0YWZyYW1lOg0KYGBge3J9DQptb2RlbF9uZXdzIDwtIG5ld3NfbW9kZWxfb2xzX2xvZ1tbMV1dDQptb2RlbF9vbmxpbmVfbmV3cyA8LSBvbmxpbmVfbmV3c19tb2RlbF9vbHNfbG9nW1sxXV0NCm1vZGVsX3R3aXR0ZXIgPC0gdHdpdHRlcl9tb2RlbF9vbHNfbG9nW1sxXV0NCg0KbW9kZWxfbmV3cyRtb2RlbCA8LSAiTmV3cyBhdHRlbnRpb24iDQptb2RlbF9vbmxpbmVfbmV3cyRtb2RlbCA8LSAiT25saW5lIG5ld3MgYXR0ZW50aW9uIg0KbW9kZWxfdHdpdHRlciRtb2RlbCA8LSAiVHdpdHRlciBhdHRlbnRpb24iDQoNCmFsbF9tb2RlbHNfcGxvdCA8LSByYmluZChtb2RlbF9uZXdzLA0KICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX29ubGluZV9uZXdzLA0KICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX3R3aXR0ZXIpDQoNCg0KYWxsX21vZGVsc19wbG90JHRlcm0gPC0gb3JkZXJlZChhbGxfbW9kZWxzX3Bsb3QkdGVybSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxzID0gYygiKEludGVyY2VwdCkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbmZlcnJlZF9nZW5kZXJ3IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibG9nKGNpdGVkX2J5X3RvdGFsX2FsbF9sICsgMSkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsb2coY291bnRfcHVic190b3RhbF9sICsgMSkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsb2cobmV3c19hbGxfdG90YWxfbCArIDEpIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibG9nKGFsdF9vbmxpbmVfYWxsX3RvdGFsX2wgKyAxKSIsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsb2coYWx0X3R3aXR0ZXJfdG90YWxfbCArIDEpIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibG9nKGNvYV90b3RfY2l0ZWRfYnlfdG90YWxfbCArIDEpIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibG9nKGNvYV9vbmxpbmVfY29tYmlfdG90YWxfbCArIDEpIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXZnX3Nqcl90b3RhbF9sIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hhcmVfZmlyc3RfYXVfdG90YWxfbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInllYXJzX3NpbmNlX2ZpcnN0X3B1YiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFzLmZhY3Rvcih5ZWFyKTIwMTQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhcy5mYWN0b3IoeWVhcikyMDE1IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXMuZmFjdG9yKHllYXIpMjAxNiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFzLmZhY3Rvcih5ZWFyKTIwMTciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhcy5mYWN0b3IoeWVhcikyMDE4IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXMuZmFjdG9yKHllYXIpMjAxOSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFzLmZhY3Rvcih5ZWFyKTIwMjAiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhcy5mYWN0b3IoeWVhcikyMDIxIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXMuZmFjdG9yKHllYXIpMjAyMiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFzLmZhY3Rvcih5ZWFyKTIwMjMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfMSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImluc3RpdHV0aW9uX2R1dGNoX3RvdGFsX25hcmNpc3VuaV8yIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfNCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImluc3RpdHV0aW9uX2R1dGNoX3RvdGFsX25hcmNpc3VuaV81IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzYiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfNyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImluc3RpdHV0aW9uX2R1dGNoX3RvdGFsX25hcmNpc3VuaV84IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfMTAiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfMTEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfMTIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfMTMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfMTQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfMTUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJSXjIiKSkNCg0KYWxsX21vZGVsc19wbG90JG1vZGVsIDwtIG9yZGVyZWQoYWxsX21vZGVsc19wbG90JG1vZGVsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxzID0gYygiTmV3cyBhdHRlbnRpb24iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiT25saW5lIG5ld3MgYXR0ZW50aW9uIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlR3aXR0ZXIgYXR0ZW50aW9uIiApKQ0KDQoNCmFsbF9tb2RlbHNfcGxvdCRmaWVsZCA8LSBvcmRlcmVkKGFsbF9tb2RlbHNfcGxvdCRmaWVsZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVscyA9IGMoInBoeXMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibGlmZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWFsdGgiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic29jX3NjaSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhcnRzIikpDQoNCmNvdmFyaWF0ZV9uYW1lcyA8LSBjKA0KICAnbG9nKGNpdGVkX2J5X3RvdGFsX2FsbF9sICsgMSknPSJUb3RhbCBjaXRhdGlvbnNcbihsb2ctdHJhbnNmb3JtZWQpIiwNCiAgJ2xvZyhjb3VudF9wdWJzX3RvdGFsX2wgKyAxKSc9IlRvdGFsIHB1YmxpY2F0aW9uc1xuKGxvZy10cmFuc2Zvcm1lZCkiLA0KICAnbG9nKG5ld3NfYWxsX3RvdGFsX2wgKyAxKSc9IlRvdGFsIHByaW50ZWQgbmV3cyBcbmF0dGVudGlvbiAobG9nLXRyYW5zZm9ybWVkKSIsDQogICdsb2coYWx0X29ubGluZV9hbGxfdG90YWxfbCArIDEpJz0iVG90YWwgb25saW5lIG5ld3NcbiBhdHRlbnRpb24gKGxvZy10cmFuc2Zvcm1lZCkiLA0KICAnbG9nKGFsdF90d2l0dGVyX3RvdGFsX2wgKyAxKSc9IlRvdGFsIFR3aXR0ZXIvWCBcbmF0dGVudGlvbiAobG9nLXRyYW5zZm9ybWVkKSIsDQogICdsb2coY29hX3RvdF9jaXRlZF9ieV90b3RhbF9sICsgMSknID0gIkNvYXV0aG9ycycgdG90YWwgY2l0YXRpb25zXG4obG9nLXRyYW5zZm9ybWVkKSIsDQogICdsb2coY29hX29ubGluZV9jb21iaV90b3RhbF9sICsgMSknID0gIkNvYXV0aG9ycycgdG90YWwgb25saW5lIFxubmV3cyBhbmQgVHdpdHRlci9YIGF0dGVudGlvblxuKGxvZy10cmFuc2Zvcm1lZCkiLA0KICAnc2hhcmVfZmlyc3RfYXVfdG90YWxfbCcgPSAiVG90YWwgc2hhcmUgb2YgZmlyc3QtIGFuZCBcbnNpbmdsZS1hdXRob3JlZCBwdWJsaWNhdGlvbnMiLA0KICAnYXZnX3Nqcl90b3RhbF9sJyA9ICJUb3RhbCBhdmVyYWdlIFNKUiBcbnNjb3JlIG9mIHB1YmxpY2F0aW9ucyINCikNCg0KZmllbGRfbmFtZXMgPC0gYygiYXJ0cyIgPSAiQXJ0cyBhbmRcbiBIdW1hbml0aWVzIiwNCiAgICAgICAgICAgICAgICAgImhlYWx0aCIgPSAiSGVhbHRoIFxuc2NpZW5jZXMiLA0KICAgICAgICAgICAgICAgICAic29jX3NjaSIgPSAiU29jaWFsIFxuc2NpZW5jZXMiLA0KICAgICAgICAgICAgICAgICAibGlmZSIgPSAiTGlmZSBzY2llbmNlcyIsDQogICAgICAgICAgICAgICAgICJwaHlzIiA9ICJQaHlzaWNhbCBcbnNjaWVuY2VzIikNCg0KbWVkaWFfbmFtZXMgPC0gYygnTmV3cyBhdHRlbnRpb24nID0gIlByaW50ZWQgbmV3cyIsDQogICAgICAgICAgICAgICAgICdPbmxpbmUgbmV3cyBhdHRlbnRpb24nID0gIk9ubGluZSBuZXdzIiwNCiAgICAgICAgICAgICAgICAgJ1R3aXR0ZXIgYXR0ZW50aW9uJyA9ICJUd2l0dGVyL1giKQ0KYGBgDQoNClBsb3Qgb3V0IHNlbGVjdGVkIHJlZ3Jlc3Npb24gY29lZmZpY2llbnRzIGZvciBwaHlzaWNhbCBzY2llbmNlczoNCmBgYHtyIGZpZy53aWR0aD0xMiwgZmlnLmhlaWdodD0gNCwgd2FybmluZyA9IEZ9DQojIHJlb3JkZXIgdGhlIGZhY3RvciBmb3IgRmlndXJlIDINCmFsbF9tb2RlbHNfcGxvdCR0ZXJtIDwtIG9yZGVyZWQoYWxsX21vZGVsc19wbG90JHRlcm0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVscyA9IGMoIihJbnRlcmNlcHQpIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5mZXJyZWRfZ2VuZGVydyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImxvZyhjb3VudF9wdWJzX3RvdGFsX2wgKyAxKSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNoYXJlX2ZpcnN0X2F1X3RvdGFsX2wiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsb2coY2l0ZWRfYnlfdG90YWxfYWxsX2wgKyAxKSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImF2Z19zanJfdG90YWxfbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImxvZyhuZXdzX2FsbF90b3RhbF9sICsgMSkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsb2coYWx0X29ubGluZV9hbGxfdG90YWxfbCArIDEpIiwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImxvZyhhbHRfdHdpdHRlcl90b3RhbF9sICsgMSkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsb2coY29hX3RvdF9jaXRlZF9ieV90b3RhbF9sICsgMSkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsb2coY29hX29ubGluZV9jb21iaV90b3RhbF9sICsgMSkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ5ZWFyc19zaW5jZV9maXJzdF9wdWIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhcy5mYWN0b3IoeWVhcikyMDE0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXMuZmFjdG9yKHllYXIpMjAxNSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFzLmZhY3Rvcih5ZWFyKTIwMTYiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhcy5mYWN0b3IoeWVhcikyMDE3IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXMuZmFjdG9yKHllYXIpMjAxOCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFzLmZhY3Rvcih5ZWFyKTIwMTkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhcy5mYWN0b3IoeWVhcikyMDIwIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXMuZmFjdG9yKHllYXIpMjAyMSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFzLmZhY3Rvcih5ZWFyKTIwMjIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhcy5mYWN0b3IoeWVhcikyMDIzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfMiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImluc3RpdHV0aW9uX2R1dGNoX3RvdGFsX25hcmNpc3VuaV8zIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfNSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImluc3RpdHV0aW9uX2R1dGNoX3RvdGFsX25hcmNpc3VuaV82IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnN0aXR1dGlvbl9kdXRjaF90b3RhbF9uYXJjaXN1bmlfOCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImluc3RpdHV0aW9uX2R1dGNoX3RvdGFsX25hcmNpc3VuaV85IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzEwIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzExIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzEyIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzEzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzE0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zdGl0dXRpb25fZHV0Y2hfdG90YWxfbmFyY2lzdW5pXzE1IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUl4yIikpDQoNCihzZWxlY3RlZF9wbG90IDwtIGFsbF9tb2RlbHNfcGxvdCAlPiUNCiAgICBmaWx0ZXIodGVybSAlaW4lIGMoDQogICAgICAibG9nKGNvdW50X3B1YnNfdG90YWxfbCArIDEpIiwNCiAgICAgICJzaGFyZV9maXJzdF9hdV90b3RhbF9sIiwNCiAgICAgICJsb2coY2l0ZWRfYnlfdG90YWxfYWxsX2wgKyAxKSIsDQogICAgICAiYXZnX3Nqcl90b3RhbF9sIiwNCiAgICAgICJsb2coY29hX3RvdF9jaXRlZF9ieV90b3RhbF9sICsgMSkiLA0KICAgICAgImxvZyhjb2Ffb25saW5lX2NvbWJpX3RvdGFsX2wgKyAxKSIpICYgZmllbGQgPT0gInBoeXMiKSAlPiUNCiAgICBnZ3Bsb3QoYWVzKEVzdGltYXRlLCBmY3RfcmV2KHRlcm0pLCBjb2xvciA9IG1vZGVsLCBzaGFwZSA9IG1vZGVsLCBsYWJlbCA9IHN0YXJzKSkgKw0KICAgIGdlb21fcG9pbnQocG9zaXRpb24gPSBwb3NpdGlvbl9kb2RnZSh3aWR0aCA9IC0wLjcpLCBzaXplID0gMi41KSArDQogICAgZ2VvbV9lcnJvcmJhcihhZXMoeG1pbiA9IGxvd2VyX2NpLCB4bWF4ID0gdXBwZXJfY2kpLA0KICAgICAgICAgICAgICAgICAgd2lkdGg9MCwNCiAgICAgICAgICAgICAgICAgIHNpemU9MC43LA0KICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbl9kb2RnZSh3aWR0aCA9IC0wLjcpKSArDQogICAgZ2VvbV90ZXh0KGhqdXN0PTAsIHZqdXN0PTAsIHBvc2l0aW9uID0gcG9zaXRpb25fZG9kZ2Uod2lkdGggPSAtMC43KSwgc2l6ZSA9IDIuMykrDQogICAgc2NhbGVfeV9kaXNjcmV0ZShsYWJlbHM9Y292YXJpYXRlX25hbWVzLA0KICAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICJGaWVsZCIpKw0KICAgIHNjYWxlX2NvbG9yX21hbnVhbChsYWJlbHMgPSBjKCJQcmludGVkIG5ld3MiLCAiT25saW5lIG5ld3MiLCAiVHdpdHRlci9YIiksIHZhbHVlcyA9IGMoIiNiYjc2OTMiLCAiI2VmNmY2YSIsICIjNjM4OGI0IikpKw0KICAgIHNjYWxlX3NoYXBlX2Rpc2NyZXRlKGxhYmVscyA9IGMoIlByaW50ZWQgbmV3cyIsICJPbmxpbmUgbmV3cyIsICJUd2l0dGVyL1giKSkrDQogICAgIyBzY2FsZV94X2NvbnRpbnVvdXMobGltaXRzID0gYygwLjUsIDIuMjUpLCBicmVha3MgPSBzZXEoMC41LCAyLjI1LCBieSA9IDAuMjUpKSsNCiAgICBsYWJzKA0KICAgICAgeCA9ICJSZWdyZXNzaW9uIGNvZWZmaWNpZW50cyIsDQogICAgICB5ID0gTlVMTCwNCiAgICAgIGNvbG9yID0gIkF0dGVudGlvbiB0eXBlIiwNCiAgICAgIHNoYXBlID0gIkF0dGVudGlvbiB0eXBlIg0KICAgICkgKyANCiAgICBnZW9tX3ZsaW5lKHhpbnRlcmNlcHQgPSAwLCAgY29sb3VyPSJibGFjayIsIGxpbmV0eXBlID0gImxvbmdkYXNoIikrDQogICAgZmFjZXRfd3JhcCggfiBtb2RlbCwgbGFiZWxsZXIgPSBhc19sYWJlbGxlcihtZWRpYV9uYW1lcyksIG5jb2wgPSAzKSsNCiAgICB0aGVtZV9taW5pbWFsX2hncmlkKCkrDQogICAgdGhlbWUocGxvdC50aXRsZSA9IGVsZW1lbnRfdGV4dChzaXplID0gOCksDQogICAgICAgICAgYXhpcy50ZXh0LnkgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDYpLA0KICAgICAgICAgIGF4aXMudGl0bGUueSA9IGVsZW1lbnRfYmxhbmsoKSwNCiAgICAgICAgICBheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChzaXplID0gNiwgYW5nbGUgPSAzMCwgaGp1c3QgPSAwLjkpICwNCiAgICAgICAgICBheGlzLnRpdGxlLnggPSBlbGVtZW50X3RleHQoc2l6ZSA9IDcpLA0KICAgICAgICAgIGxlZ2VuZC50aXRsZT1lbGVtZW50X3RleHQoc2l6ZT03KSwgDQogICAgICAgICAgbGVnZW5kLnRleHQ9ZWxlbWVudF90ZXh0KHNpemU9NiksDQogICAgICAgICAgc3RyaXAudGV4dC54PWVsZW1lbnRfdGV4dChmYWNlPSJib2xkIiwgc2l6ZSA9IDgpLA0KICAgICAgICAgIGxlZ2VuZC5rZXkuc2l6ZSA9IHVuaXQoMC4xLCAiaW4iKSkrDQogICAgZ3VpZGVzKGNvbG9yID0gZ3VpZGVfbGVnZW5kKG92ZXJyaWRlLmFlcyA9IGxpc3Qoc2l6ZSA9IDIuNSkpLA0KICAgICAgICAgICBzaGFwZSA9IGd1aWRlX2xlZ2VuZChvdmVycmlkZS5hZXMgPSBsaXN0KHNpemUgPSAyLjUpKSwNCiAgICAgICAgICAgbGFiZWwgPSBndWlkZV9sZWdlbmQob3ZlcnJpZGUuYWVzID0gbGlzdChzaXplID0gMi41KSkpKw0KICAgIHBhbmVsX2JvcmRlcigpKQ0KDQpsZWdlbmQgPC0gZ2V0X2xlZ2VuZCgNCiAgIyBjcmVhdGUgc29tZSBzcGFjZSB0byB0aGUgbGVmdCBvZiB0aGUgbGVnZW5kDQogIHNlbGVjdGVkX3Bsb3QNCikNCg0KY29tYmlfcGxvdF9zZWxlY3RlZF9jb2VmIDwtIHBsb3RfZ3JpZChzZWxlY3RlZF9wbG90ICsgdGhlbWUobGVnZW5kLnBvc2l0aW9uPSJub25lIiksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZ2VuZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmNvbCA9IDIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduID0gJ2gnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzID0gJ3RiJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsX3dpZHRocyA9IGMoMSwgMC4xMzEpKQ0KDQpgYGANCg0KDQojIyBDb21iaW5lZCBwbG90DQoNCkNvbWJpbmUgdGhlIHBsb3RzLg0KDQpGaXJzdCwgcHJlcGFyZSB0aGUgRmlndXJlIDJBOg0KYGBge3IgZmlnLndpZHRoPSAxMiwgZmlnLmhlaWdodCA9IDQsIHdhcm5pbmcgPSBGfQ0KbGVnZW5kIDwtIGdldF9sZWdlbmQoDQogICMgY3JlYXRlIHNvbWUgc3BhY2UgdG8gdGhlIGxlZnQgb2YgdGhlIGxlZ2VuZA0KICBhbGxfZ2VuZGVyX3Bsb3QNCikNCg0KY29tYmlfcGxvdF9yZWdyZXNzaW9uX3ByZWQgPC0gcGxvdF9ncmlkKGxlZ2VuZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxfZ2VuZGVyX3Bsb3QsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5jb2wgPSAzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduID0gJ2gnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMgPSAndGInLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbF93aWR0aHMgPSBjKDAuMDUsIDEsIDAuMTM1KSkNCmBgYA0KDQpUaGVuLCBjb21iaW5lIHRoZSB0d286DQpgYGB7ciBmaWcuaGVpZ2h0PTQuNSwgZmlnLndpZHRoPTcuNSwgd2FybmluZyA9IEZ9DQpjb21iaV9wbG90X3JlZ3Jlc3Npb24gPC0gcGxvdF9ncmlkKA0KICBjb21iaV9wbG90X3JlZ3Jlc3Npb25fcHJlZCwNCiAgY29tYmlfcGxvdF9zZWxlY3RlZF9jb2VmLA0KICBuY29sID0gMSwNCiAgbnJvdyA9IDIsDQogIGF4aXMgPSAnbHInLA0KICByZWxfaGVpZ2h0cyA9IGMoMSwgMSksDQogIGxhYmVscyA9IGMoIkEiLCAiQiIpLA0KICBsYWJlbF9zaXplID0gMTANCikNCg0KY29tYmlfcGxvdF9yZWdyZXNzaW9uDQoNCmdnc2F2ZTIoDQogIGZpbGVuYW1lID0gInJlc3VsdHMvbWFpbi9GaWd1cmVfMy5wbmciLA0KICBwbG90ID0gY29tYmlfcGxvdF9yZWdyZXNzaW9uLA0KICB3aWR0aCA9IDcsDQogIGhlaWdodCA9IDQuNSwNCiAgdW5pdHMgPSBjKCJpbiIpLA0KICBkcGkgPSAxMjAwLA0KICBiZyA9ICJ3aGl0ZSINCikNCg0KIyBzYXZlIGEgaGlnaC1yZXMgcHVibGljYXRpb24gZmlndXJlDQpnZ3NhdmUyKA0KICBmaWxlbmFtZSA9ICJyZXN1bHRzL2hpZ2hfcmVzX2ZpZ3VyZXMvRmlndXJlXzMudGlmZiIsDQogIHBsb3QgPSBjb21iaV9wbG90X3JlZ3Jlc3Npb24sDQogIHdpZHRoID0gNywNCiAgaGVpZ2h0ID0gNC41LA0KICB1bml0cyA9IGMoImluIiksDQogIGRwaSA9IDkwMCwNCiAgYmcgPSAid2hpdGUiDQopDQpgYGANCg0KDQoNCiMjIEZpZ3VyZSBTNiAtIGNvZWZmaWNpZW50cyBmb3IgYWxsIGZpZWxkcw0KDQpQbG90IHRoZSByZXN0IG9mIHRoZSBjb2VmZmljaWVudHMgZnJvbSB0aGUgbWFpbiBtb2RlbCB0byBiZSBzaG93biBpbiBGaWd1cmUgUzYgaW4gdGhlIFNJIEFwcGVuZGl4Og0KYGBge3IgZmlnLndpZHRoPTgsIGZpZy5oZWlnaHQ9MTAsIHdhcm5pbmc9IEYsIG1lc3NhZ2UgPSBGfQ0KbWVkaWFfZmllbGRfbmFtZXMgPC0gYyhtZWRpYV9uYW1lcywNCiAgICAgICAgICAgICAgICAgICAgICAgZmllbGRfbmFtZXMpDQoNCg0KKGFsbF9wbG90IDwtIGFsbF9tb2RlbHNfcGxvdCAlPiUNCiAgICBmaWx0ZXIodGVybSAlaW4lIGMoDQogICAgICAibG9nKGNvdW50X3B1YnNfdG90YWxfbCArIDEpIiwNCiAgICAgICJzaGFyZV9maXJzdF9hdV90b3RhbF9sIiwNCiAgICAgICJsb2coY2l0ZWRfYnlfdG90YWxfYWxsX2wgKyAxKSIsDQogICAgICAiYXZnX3Nqcl90b3RhbF9sIiwNCiAgICAgICJsb2coY29hX3RvdF9jaXRlZF9ieV90b3RhbF9sICsgMSkiLA0KICAgICAgImxvZyhjb2Ffb25saW5lX2NvbWJpX3RvdGFsX2wgKyAxKSIpKSAlPiUNCiAgICBnZ3Bsb3QoYWVzKEVzdGltYXRlLCBmY3RfcmV2KHRlcm0pLCBjb2xvciA9IG1vZGVsLCBzaGFwZSA9IG1vZGVsLCBsYWJlbCA9IHN0YXJzKSkgKw0KICAgIGdlb21fcG9pbnQocG9zaXRpb24gPSBwb3NpdGlvbl9kb2RnZSh3aWR0aCA9IC0wLjcpLCBzaXplID0gMykgKw0KICAgIGdlb21fZXJyb3JiYXIoYWVzKHhtaW4gPSBsb3dlcl9jaSwgeG1heCA9IHVwcGVyX2NpKSwNCiAgICAgICAgICAgICAgICAgIHdpZHRoPTAsDQogICAgICAgICAgICAgICAgICBzaXplPTAuNywNCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb25fZG9kZ2Uod2lkdGggPSAtMC43KSkgKw0KICAgIGdlb21fdGV4dChoanVzdD0wLCB2anVzdD0wLCBwb3NpdGlvbiA9IHBvc2l0aW9uX2RvZGdlKHdpZHRoID0gLTAuNyksIHNpemUgPSAzLjUpKw0KICAgIHNjYWxlX3lfZGlzY3JldGUobGFiZWxzPWNvdmFyaWF0ZV9uYW1lcywNCiAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSAiRmllbGQiKSsNCiAgICBzY2FsZV9jb2xvcl9tYW51YWwobGFiZWxzID0gYygiUHJpbnRlZCBuZXdzIiwgIk9ubGluZSBuZXdzIiwgIlR3aXR0ZXIvWCIpLCB2YWx1ZXMgPSBjKCIjYmI3NjkzIiwgIiNlZjZmNmEiLCAiIzYzODhiNCIpKSsNCiAgICBzY2FsZV9zaGFwZV9kaXNjcmV0ZShsYWJlbHMgPSBjKCJQcmludGVkIG5ld3MiLCAiT25saW5lIG5ld3MiLCAiVHdpdHRlci9YIikpKw0KICAgICNzY2FsZV94X2NvbnRpbnVvdXMobGltaXRzID0gYygwLCA0LjUpLCBicmVha3MgPSBzZXEoMCwgNC41LCBieSA9IDAuNSkpKw0KICAgIGxhYnMoDQogICAgICB4ID0gIlJlZ3Jlc3Npb24gY29lZmZpY2llbnQiLA0KICAgICAgeSA9IE5VTEwsDQogICAgICBjb2xvciA9ICJBdHRlbnRpb24gdHlwZSIsDQogICAgICBzaGFwZSA9ICJBdHRlbnRpb24gdHlwZSINCiAgICApICsgDQogICAgZ2VvbV92bGluZSh4aW50ZXJjZXB0ID0gMCwgIGNvbG91cj0iYmxhY2siLCBsaW5ldHlwZSA9ICJsb25nZGFzaCIpKw0KICAgIGZhY2V0X2dyaWQoZmllbGQgfiBtb2RlbCwgbGFiZWxsZXIgPSBhc19sYWJlbGxlcihtZWRpYV9maWVsZF9uYW1lcyksIHNjYWxlcyA9ICJmcmVlX3giKSsNCiAgICB0aGVtZV9taW5pbWFsX2hncmlkKCkrDQogICAgdGhlbWUocGxvdC50aXRsZSA9IGVsZW1lbnRfdGV4dChzaXplID0gMTEpLA0KICAgICAgICAgIGF4aXMudGV4dC55ID0gZWxlbWVudF90ZXh0KHNpemUgPSA5KSwNCiAgICAgICAgICBheGlzLnRpdGxlLnkgPSBlbGVtZW50X2JsYW5rKCksDQogICAgICAgICAgYXhpcy50ZXh0LnggPSAgZWxlbWVudF90ZXh0KHNpemUgPSA5KSwNCiAgICAgICAgICBheGlzLnRpdGxlLnggPSBlbGVtZW50X2JsYW5rKCksDQogICAgICAgICAgbGVnZW5kLnRpdGxlPWVsZW1lbnRfYmxhbmsoKSwgDQogICAgICAgICAgbGVnZW5kLnRleHQ9ZWxlbWVudF9ibGFuaygpKSsNCiAgICAjc3RyaXAudGV4dC54PWVsZW1lbnRfdGV4dChzaXplID0gMTApKSsNCiAgICBwYW5lbF9ib3JkZXIoKSkNCg0KDQpnZ3NhdmUyKA0KICBmaWxlbmFtZSA9ICJyZXN1bHRzL3N1cHBsZW1lbnRfZmlndXJlcy9TSV9GaWdfUzYucG5nIiwNCiAgcGxvdCA9IGFsbF9wbG90LA0KICB3aWR0aCA9IDgsDQogIGhlaWdodCA9IDEwLA0KICB1bml0cyA9IGMoImluIiksDQogIGRwaSA9IDEyMDAsDQogIGJnID0gIndoaXRlIg0KKQ0KYGBgDQoNCg0K</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("Analyses_main.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
